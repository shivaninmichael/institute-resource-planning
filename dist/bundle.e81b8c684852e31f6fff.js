"use strict";(self.webpackChunks_erp_frontend=self.webpackChunks_erp_frontend||[]).push([[792],{6523:(e,s,n)=>{n.d(s,{A:()=>o});var t=n(1601),r=n.n(t),a=n(6314),i=n.n(a)()(r());i.push([e.id,"/* Reset and base styles */\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  height: 100%;\n}\n\nbody {\n  height: 100%;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color: #fafafa;\n}\n\n#root {\n  height: 100%;\n  min-height: 100vh;\n}\n\n/* Scrollbar styles */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n\n/* Loading and error states */\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  font-size: 24px;\n}\n\n.error {\n  color: #d32f2f;\n  text-align: center;\n  padding: 20px;\n}\n\n/* Mobile responsive utilities */\n@media (max-width: 600px) {\n  .desktop-only {\n    display: none !important;\n  }\n}\n\n@media (min-width: 601px) {\n  .mobile-only {\n    display: none !important;\n  }\n}\n\n/* Print styles */\n@media print {\n  .no-print {\n    display: none !important;\n  }\n}\n\n/* High contrast mode support */\n@media (prefers-contrast: high) {\n  * {\n    border-color: currentColor !important;\n  }\n}\n\n/* Reduced motion support */\n@media (prefers-reduced-motion: reduce) {\n  * {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n\n/* Focus styles for accessibility */\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n/* Material-UI overrides */\n.MuiCssBaseline-root {\n  height: 100%;\n}\n\n.MuiBox-root {\n  box-sizing: border-box;\n}\n\n/* Custom utilities */\n.full-height {\n  height: 100%;\n}\n\n.full-width {\n  width: 100%;\n}\n\n.text-center {\n  text-align: center;\n}\n\n.text-left {\n  text-align: left;\n}\n\n.text-right {\n  text-align: right;\n}\n\n.flex-center {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.flex-between {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.flex-end {\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n",""]);const o=i},6659:(e,s,n)=>{var t=n(4848),r=n(6540),a=n(5338),i=n(4976),o=n(9302),l=n(4519),c=n(6544);const d={main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#ffffff"},m={main:"#dc004e",light:"#ff5983",dark:"#9a0036",contrastText:"#ffffff"},u={main:"#2e7d32",light:"#4caf50",dark:"#1b5e20",contrastText:"#ffffff"},p={main:"#ed6c02",light:"#ff9800",dark:"#e65100",contrastText:"#ffffff"},x={main:"#d32f2f",light:"#ef5350",dark:"#c62828",contrastText:"#ffffff"},h={main:"#0288d1",light:"#03a9f4",dark:"#01579b",contrastText:"#ffffff"},A={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},g={fontFamily:["Roboto","Helvetica","Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:300,lineHeight:1.2,letterSpacing:"-0.00833em"},h2:{fontSize:"2rem",fontWeight:300,lineHeight:1.3,letterSpacing:"-0.00833em"},h3:{fontSize:"1.75rem",fontWeight:400,lineHeight:1.4,letterSpacing:"0em"},h4:{fontSize:"1.5rem",fontWeight:400,lineHeight:1.4,letterSpacing:"0.00735em"},h5:{fontSize:"1.25rem",fontWeight:400,lineHeight:1.5,letterSpacing:"0em"},h6:{fontSize:"1.125rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"},subtitle1:{fontSize:"1rem",fontWeight:400,lineHeight:1.75,letterSpacing:"0.00938em"},subtitle2:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.57,letterSpacing:"0.00714em"},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.5,letterSpacing:"0.00938em"},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.43,letterSpacing:"0.01071em"},button:{fontSize:"0.875rem",fontWeight:500,lineHeight:1.75,letterSpacing:"0.02857em",textTransform:"none"},caption:{fontSize:"0.75rem",fontWeight:400,lineHeight:1.66,letterSpacing:"0.03333em"},overline:{fontSize:"0.75rem",fontWeight:400,lineHeight:2.66,letterSpacing:"0.08333em",textTransform:"uppercase"}},j={MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"none",fontWeight:500,boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}},contained:{"&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.2)"}},outlined:{borderWidth:2,"&:hover":{borderWidth:2}}},defaultProps:{disableElevation:!0}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)","&:hover":{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:8},elevation1:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},elevation2:{boxShadow:"0 4px 16px rgba(0,0,0,0.15)"},elevation3:{boxShadow:"0 8px 24px rgba(0,0,0,0.2)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiChip:{styleOverrides:{root:{borderRadius:16,fontWeight:500}}},MuiAvatar:{styleOverrides:{root:{borderRadius:8}}},MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-root":{fontWeight:600,backgroundColor:A[50]}}}},MuiTableCell:{styleOverrides:{root:{borderBottom:`1px solid ${A[200]}`,padding:"16px"}}},MuiTableRow:{styleOverrides:{root:{"&:hover":{backgroundColor:A[50]}}}},MuiDialog:{styleOverrides:{paper:{borderRadius:12}}},MuiDialogTitle:{styleOverrides:{root:{padding:"24px 24px 16px 24px",borderBottom:`1px solid ${A[200]}`}}},MuiDialogContent:{styleOverrides:{root:{padding:"24px"}}},MuiDialogActions:{styleOverrides:{root:{padding:"16px 24px 24px 24px",borderTop:`1px solid ${A[200]}`}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}},MuiDrawer:{styleOverrides:{paper:{borderRight:"none",boxShadow:"2px 0 8px rgba(0,0,0,0.1)"}}},MuiListItem:{styleOverrides:{root:{borderRadius:8,margin:"4px 8px","&:hover":{backgroundColor:A[100]}}}},MuiListItemButton:{styleOverrides:{root:{borderRadius:8,margin:"4px 8px","&:hover":{backgroundColor:A[100]},"&.Mui-selected":{backgroundColor:d.light+"20","&:hover":{backgroundColor:d.light+"30"}}}}},MuiTabs:{styleOverrides:{root:{"& .MuiTabs-indicator":{height:3,borderRadius:"3px 3px 0 0"}}}},MuiTab:{styleOverrides:{root:{textTransform:"none",fontWeight:500,minHeight:48}}},MuiLinearProgress:{styleOverrides:{root:{borderRadius:4,height:6}}},MuiCircularProgress:{styleOverrides:{root:{"& .MuiCircularProgress-circle":{strokeLinecap:"round"}}}},MuiSwitch:{styleOverrides:{root:{width:44,height:24,padding:0},switchBase:{padding:2,"&.Mui-checked":{transform:"translateX(20px)"}},thumb:{width:20,height:20},track:{borderRadius:12,opacity:1,backgroundColor:A[300]}}},MuiCheckbox:{styleOverrides:{root:{"&.Mui-checked":{color:d.main}}}},MuiRadio:{styleOverrides:{root:{"&.Mui-checked":{color:d.main}}}},MuiFormControlLabel:{styleOverrides:{root:{marginLeft:0,marginRight:16}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:A[800],borderRadius:6,fontSize:"0.75rem",padding:"8px 12px"},arrow:{color:A[800]}}},MuiSnackbar:{styleOverrides:{root:{"& .MuiSnackbarContent-root":{borderRadius:8}}}},MuiAlert:{styleOverrides:{root:{borderRadius:8,fontWeight:500}}},MuiBreadcrumbs:{styleOverrides:{root:{"& .MuiBreadcrumbs-separator":{margin:"0 8px"}}}},MuiPagination:{styleOverrides:{root:{"& .MuiPaginationItem-root":{borderRadius:8,margin:"0 2px"}}}},MuiRating:{styleOverrides:{root:{"& .MuiRating-iconFilled":{color:p.main},"& .MuiRating-iconHover":{color:p.light}}}},MuiSkeleton:{styleOverrides:{root:{borderRadius:8}}},MuiSpeedDial:{styleOverrides:{fab:{backgroundColor:d.main,"&:hover":{backgroundColor:d.dark}}}},MuiSpeedDialAction:{styleOverrides:{fab:{backgroundColor:A[100],color:A[700],"&:hover":{backgroundColor:A[200]}}}}},_=(e="light")=>{const s="light"===e,n={palette:{mode:e,primary:d,secondary:m,success:u,warning:p,error:x,info:h,grey:A,background:{default:s?A[50]:A[900],paper:s?"#ffffff":A[800]},text:{primary:s?A[900]:A[100],secondary:s?A[700]:A[300]},divider:s?A[200]:A[700]},typography:g,components:j,shape:{borderRadius:8},spacing:8,breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}},shadows:["none","0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)","0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)","0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)","0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)","0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22)","0 24px 48px rgba(0,0,0,0.35), 0 20px 16px rgba(0,0,0,0.20)","0 29px 58px rgba(0,0,0,0.40), 0 25px 20px rgba(0,0,0,0.18)","0 34px 68px rgba(0,0,0,0.45), 0 30px 24px rgba(0,0,0,0.16)","0 39px 78px rgba(0,0,0,0.50), 0 35px 28px rgba(0,0,0,0.14)","0 44px 88px rgba(0,0,0,0.55), 0 40px 32px rgba(0,0,0,0.12)","0 49px 98px rgba(0,0,0,0.60), 0 45px 36px rgba(0,0,0,0.10)","0 54px 108px rgba(0,0,0,0.65), 0 50px 40px rgba(0,0,0,0.08)","0 59px 118px rgba(0,0,0,0.70), 0 55px 44px rgba(0,0,0,0.06)","0 64px 128px rgba(0,0,0,0.75), 0 60px 48px rgba(0,0,0,0.04)","0 69px 138px rgba(0,0,0,0.80), 0 65px 52px rgba(0,0,0,0.02)","0 74px 148px rgba(0,0,0,0.85), 0 70px 56px rgba(0,0,0,0.00)","0 79px 158px rgba(0,0,0,0.90), 0 75px 60px rgba(0,0,0,0.00)","0 84px 168px rgba(0,0,0,0.95), 0 80px 64px rgba(0,0,0,0.00)","0 89px 178px rgba(0,0,0,1.00), 0 85px 68px rgba(0,0,0,0.00)","0 94px 188px rgba(0,0,0,1.00), 0 90px 72px rgba(0,0,0,0.00)","0 99px 198px rgba(0,0,0,1.00), 0 95px 76px rgba(0,0,0,0.00)","0 104px 208px rgba(0,0,0,1.00), 0 100px 80px rgba(0,0,0,0.00)","0 109px 218px rgba(0,0,0,1.00), 0 105px 84px rgba(0,0,0,0.00)","0 114px 228px rgba(0,0,0,1.00), 0 110px 88px rgba(0,0,0,0.00)","0 119px 238px rgba(0,0,0,1.00), 0 115px 92px rgba(0,0,0,0.00)","0 124px 248px rgba(0,0,0,1.00), 0 120px 96px rgba(0,0,0,0.00)"]};return(0,c.A)(n)},S=_("light"),y=(_("dark"),{url:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_URL||"",anonKey:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_ANON_KEY||"",serviceRoleKey:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY||"",useSupabaseAuth:"true"==={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_USE_SUPABASE_AUTH,appName:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_APP_NAME||"S-ERP",environment:{ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENVIRONMENT||"development",enableDebug:"true"==={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_ENABLE_DEBUG});var C=n(7767),f=n(799),v=n(1490);const P={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_URL||"",E={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_ANON_KEY||"",b={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_SUPABASE_SERVICE_ROLE_KEY||"";P&&E||console.warn(" Supabase configuration missing. Please set REACT_APP_SUPABASE_URL and REACT_APP_SUPABASE_ANON_KEY");const D=(0,v.UU)(P,E,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"}}),R=async()=>{const{data:{session:e},error:s}=await D.auth.getSession();return{session:e,error:s}},O=async(e,s="*",n)=>{let t=D.from(e).select(s);n&&Object.entries(n).forEach(([e,s])=>{null!=s&&(t=t.eq(e,s))});const{data:r,error:a}=await t;return{data:r,error:a}},I=(b&&(0,v.UU)(P,b,{auth:{autoRefreshToken:!1,persistSession:!1},db:{schema:"public"}}),{user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,error:null,currentSession:null,activeSessions:[],requiresMFA:!1,mfaVerified:!1}),T=(e,s)=>{switch(s.type){case"AUTH_START":return{...e,isLoading:!0,error:null};case"AUTH_SUCCESS":return{...e,user:s.payload.user,token:s.payload.token,refreshToken:s.payload.refreshToken,isAuthenticated:!0,isLoading:!1,error:null,requiresMFA:s.payload.requiresMFA||!1,mfaVerified:!s.payload.requiresMFA,currentSession:s.payload.currentSession};case"AUTH_FAILURE":return{...e,user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:s.payload,currentSession:null,activeSessions:[],requiresMFA:!1,mfaVerified:!1};case"AUTH_LOGOUT":return{...e,user:null,token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,error:null,currentSession:null,activeSessions:[],requiresMFA:!1,mfaVerified:!1};case"AUTH_REFRESH":return{...e,token:s.payload.token,isLoading:!1};case"PROFILE_UPDATE":return{...e,user:{...e.user,...s.payload}};case"CLEAR_ERROR":return{...e,error:null};default:return e}},w=(0,r.createContext)(void 0),W=({children:e})=>{const[s,n]=(0,r.useReducer)(T,I);(0,r.useEffect)(()=>{(async()=>{try{const{session:e,error:s}=await R();if(s)return console.error("Session error:",s),void n({type:"AUTH_LOGOUT"});if(e?.user){const{data:s,error:t}=await O("users","*",{email:e.user.email});if(t||!s||0===s.length)return console.error("Profile error:",t),void n({type:"AUTH_LOGOUT"});const r=s[0];n({type:"AUTH_SUCCESS",payload:{user:{id:r.id,email:r.email,first_name:r.first_name,last_name:r.last_name,phone:r.phone,avatar_url:r.avatar_url,is_admin:r.is_admin||!1,is_faculty:r.is_faculty||!1,is_student:r.is_student||!1,is_parent:r.is_parent||!1,is_staff:r.is_staff||!1,company_id:r.company_id,department_id:r.department_id,permissions:[],roles:[]},token:e.access_token,refreshToken:e.refresh_token,currentSession:{id:e.user.id,device:navigator.userAgent,ip_address:"Unknown",location:"Unknown",isCurrentSession:!0,lastActivity:(new Date).toISOString(),createdAt:e.user.created_at}}})}else n({type:"AUTH_LOGOUT"})}catch(e){console.error("Auth initialization error:",e),n({type:"AUTH_LOGOUT"})}})();const{data:{subscription:e}}=D.auth.onAuthStateChange(async(e,s)=>{if("SIGNED_IN"===e&&s?.user){const{data:e,error:t}=await O("users","*",{email:s.user.email});if(!t&&e&&e.length>0){const t=e[0];n({type:"AUTH_SUCCESS",payload:{user:{id:t.id,email:t.email,first_name:t.first_name,last_name:t.last_name,phone:t.phone,avatar_url:t.avatar_url,is_admin:t.is_admin||!1,is_faculty:t.is_faculty||!1,is_student:t.is_student||!1,is_parent:t.is_parent||!1,is_staff:t.is_staff||!1,company_id:t.company_id,department_id:t.department_id,permissions:[],roles:[]},token:s.access_token,refreshToken:s.refresh_token,currentSession:{id:s.user.id,device:navigator.userAgent,ip_address:"Unknown",location:"Unknown",isCurrentSession:!0,lastActivity:(new Date).toISOString(),createdAt:s.user.created_at}}})}}else"SIGNED_OUT"===e&&n({type:"AUTH_LOGOUT"})});return()=>e.unsubscribe()},[]);const a=async(e=!1)=>{try{const{error:e}=await(async()=>{const{error:e}=await D.auth.signOut();return{error:e}})();e&&console.error("Logout error:",e)}catch(e){console.error("Logout error:",e)}finally{n({type:"AUTH_LOGOUT"}),f.oR.success("Logged out successfully")}},i={...s,login:async e=>{try{n({type:"AUTH_START"});const{data:s,error:t}=await(async(e,s)=>{const{data:n,error:t}=await D.auth.signInWithPassword({email:e,password:s});return{data:n,error:t}})(e.email,e.password);if(t)throw new Error(t.message);if(!s.user)throw new Error("Login failed");const{data:r,error:a}=await O("users","*",{email:s.user.email});if(a||!r||0===r.length)throw new Error("User profile not found");const i=r[0];n({type:"AUTH_SUCCESS",payload:{user:{id:i.id,email:i.email,first_name:i.first_name,last_name:i.last_name,phone:i.phone,avatar_url:i.avatar_url,is_admin:i.is_admin||!1,is_faculty:i.is_faculty||!1,is_student:i.is_student||!1,is_parent:i.is_parent||!1,is_staff:i.is_staff||!1,company_id:i.company_id,department_id:i.department_id,permissions:[],roles:[]},token:s.session?.access_token||"",refreshToken:s.session?.refresh_token||"",currentSession:{id:s.user.id,device:navigator.userAgent,ip_address:"Unknown",location:"Unknown",isCurrentSession:!0,lastActivity:(new Date).toISOString(),createdAt:s.user.created_at}}}),f.oR.success("Login successful!")}catch(e){const s=e.message||"Login failed";throw n({type:"AUTH_FAILURE",payload:s}),e}},logout:a,register:async e=>{try{n({type:"AUTH_START"});const{data:s,error:t}=await(async(e,s,n)=>{const{data:t,error:r}=await D.auth.signUp({email:e,password:s,options:{data:n}});return{data:t,error:r}})(e.email,e.password,{first_name:e.first_name,last_name:e.last_name,phone:e.phone});if(t)throw new Error(t.message);if(!s.user)throw new Error("Registration failed");const{error:r}=await(async(e,s)=>{const{data:n,error:t}=await D.from(e).insert(s).select();return{result:n,error:t}})("users",{email:e.email,first_name:e.first_name,last_name:e.last_name,phone:e.phone,is_admin:!1,is_faculty:!1,is_student:!1,is_parent:!1,is_staff:!1,active:!0,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()});r&&console.error("Profile creation error:",r),f.oR.success("Registration successful! Please check your email to verify your account.")}catch(e){const s=e.message||"Registration failed";throw n({type:"AUTH_FAILURE",payload:s}),e}},refreshAuth:async()=>{try{const{data:e,error:s}=await R();if(s||!e.session)throw new Error("No valid session");n({type:"AUTH_REFRESH",payload:{token:e.session.access_token}})}catch(e){throw a(),e}},updateProfile:async e=>{try{if(!s.user)throw new Error("No user logged in");const{error:t}=await(async e=>{const{data:s,error:n}=await D.auth.updateUser({data:e});return{data:s,error:n}})(e);if(t)throw new Error(t.message);const{error:r}=await(async(e,s,n)=>{const{data:t,error:r}=await D.from(e).update(n).eq("id",s).select();return{data:t,error:r}})("users",s.user.id,e);if(r)throw new Error(r.message);n({type:"PROFILE_UPDATE",payload:e}),f.oR.success("Profile updated successfully")}catch(e){const s=e.message||"Profile update failed";throw f.oR.error(s),e}},changePassword:async e=>{try{const{error:s}=await(async e=>{const{data:s,error:n}=await D.auth.updateUser({password:e});return{data:s,error:n}})(e.newPassword);if(s)throw new Error(s.message);f.oR.success("Password changed successfully")}catch(e){const s=e.message||"Password change failed";throw f.oR.error(s),e}},clearError:()=>{n({type:"CLEAR_ERROR"})},hasPermission:(e,n,t)=>!!s.user&&(s.user.is_admin,!0),hasRole:e=>{if(!s.user)return!1;switch(e){case"admin":return s.user.is_admin||!1;case"faculty":return s.user.is_faculty||s.user.is_admin||!1;case"student":return s.user.is_student||s.user.is_admin||!1;case"parent":return s.user.is_parent||s.user.is_admin||!1;case"staff":return s.user.is_staff||s.user.is_admin||!1;default:return!1}},verifyMFA:async(e,s)=>{throw new Error("MFA not implemented yet")},setupMFA:async(e,s)=>{throw new Error("MFA not implemented yet")},disableMFA:async e=>{throw new Error("MFA not implemented yet")},getActiveSessions:async()=>[s.currentSession].filter(Boolean),terminateSession:async e=>{s.currentSession?.id===e&&await a()},terminateAllOtherSessions:async()=>{f.oR.success("All other sessions terminated successfully")}};return(0,t.jsx)(w.Provider,{value:i,children:e})},M=()=>{const e=(0,r.useContext)(w);if(void 0===e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e};var F=n(4675),N=n(7708),U=n(4717),k=n(4073),L=n(5001),V=n(7190),G=n(9067),H=n(1385),$=n(2022),q=n(3896),B=n(1543),K=n(9828),z=n(8532),J=n(1641),X=n(7839),Y=n(1384),Z=n(2274),Q=n(3341),ee=n(790),se=n(448),ne=n(5423),te=n(5985),re=n(4269),ae=n(2710),ie=n(1299),oe=n(2390),le=n(2291),ce=n(2376),de=n(1184),me=n(6431),ue=n(9858),pe=n(7944),xe=n(1360),he=n(1083);const Ae={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\lenovo\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133979496775963285",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_18136_NJCTNHNNAMKCDDIV",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-GM8SG46",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",CURSOR_TRACE_ID:"c96617223a4546faa924232a9e1db58f",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_8556_1592913036:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\lenovo",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\lenovo",INIT_CWD:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\lenovo\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-GM8SG46",NODE:"C:\\Program Files\\nodejs\\node.exe","node.js":"C:\\Program Files\\nodejs",npm_command:"run-script",npm_config_cache:"C:\\Users\\lenovo\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\lenovo\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\lenovo\\.npm-init.js",npm_config_local_prefix:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.9.2",npm_config_prefix:"C:\\Users\\lenovo\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\lenovo\\.npmrc",npm_config_user_agent:"npm/10.9.2 node/v22.17.1 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"webpack --mode production",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\package.json",npm_package_name:"s-erp-frontend",npm_package_version:"1.0.0",NUMBER_OF_PROCESSORS:"8",OneDrive:"C:\\Users\\lenovo\\OneDrive",OneDriveConsumer:"C:\\Users\\lenovo\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\SERP\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\education-institution-resource-planning-DEV\\node_modules\\.bin;D:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Python313\\Scripts\\;C:\\Python313\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Intel\\WiFi\\bin\\;C:\\Program Files\\Common Files\\Intel\\WirelessCommon\\;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\lenovo\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\lenovo\\AppData\\Roaming\\npm;C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\bin",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 142 Stepping 12, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8e0c",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\lenovo\\OneDrive\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.5.11",TMP:"C:\\Users\\lenovo\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-GM8SG46",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-GM8SG46",USERNAME:"lenovo",USERPROFILE:"C:\\Users\\lenovo",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\lenovo\\AppData\\Local\\Programs\\cursor\\Cursor.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-c5a100e279-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"}.REACT_APP_API_URL||"http://localhost:3001/api";class ge{constructor(){this.token=null,this.client=he.A.create({baseURL:Ae,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors(),this.loadToken()}setupInterceptors(){this.client.interceptors.request.use(e=>(this.token&&(e.headers.Authorization=`Bearer ${this.token}`),e),e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,e=>(this.handleApiError(e),Promise.reject(e)))}loadToken(){this.token=localStorage.getItem("auth_token")}setToken(e){this.token=e,localStorage.setItem("auth_token",e)}clearToken(){this.token=null,localStorage.removeItem("auth_token")}handleApiError(e){if(e.response){const{status:s,data:n}=e.response;switch(s){case 401:this.clearToken(),window.location.href="/login",f.oR.error("Session expired. Please login again.");break;case 403:f.oR.error("Access denied. Insufficient permissions.");break;case 404:f.oR.error("Resource not found.");break;case 422:n.errors?Object.values(n.errors).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{f.oR.error(e)})}):f.oR.error(n.message||"Validation failed");break;case 429:f.oR.error("Too many requests. Please try again later.");break;case 500:f.oR.error("Server error. Please try again later.");break;default:f.oR.error(n.message||"An error occurred")}}else e.request?f.oR.error("Network error. Please check your connection."):f.oR.error("An unexpected error occurred")}async request(e){try{return(await this.client.request(e)).data}catch(e){throw e}}async get(e,s){return this.request({...s,method:"GET",url:e})}async post(e,s,n){return this.request({...n,method:"POST",url:e,data:s})}async put(e,s,n){return this.request({...n,method:"PUT",url:e,data:s})}async patch(e,s,n){return this.request({...n,method:"PATCH",url:e,data:s})}async delete(e,s){return this.request({...s,method:"DELETE",url:e})}async upload(e,s,n){const t=new FormData;return t.append("file",s),this.request({method:"POST",url:e,data:t,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(n&&e.total){const s=Math.round(100*e.loaded/e.total);n(s)}}})}async download(e,s){try{const n=await this.client.get(e,{responseType:"blob"}),t=new Blob([n.data]),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=s||"download",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}catch(e){throw f.oR.error("Download failed"),e}}}const je=new ge,_e=async e=>je.get("/students",{params:e}),Se={getFaculty:async e=>je.get("/faculty",{params:e}),getFacultyById:async e=>je.get(`/faculty/${e}`),createFaculty:async e=>je.post("/faculty",e),updateFaculty:async(e,s)=>je.put(`/faculty/${e}`,s),deleteFaculty:async e=>je.delete(`/faculty/${e}`),searchFaculty:async(e,s)=>je.get("/faculty/search",{params:{q:e,...s}}),getFacultyByDepartment:async e=>je.get(`/faculty/department/${e}`),getFacultySubjects:async e=>je.get(`/faculty/${e}/subjects`),getFacultyDashboard:async e=>je.get(`/faculty/${e}/dashboard`),getFacultyCourses:async e=>je.get(`/faculty/${e}/courses`),getCourses:async e=>je.get("/faculty",{params:e}),getAssignments:async(e,s)=>je.get(`/faculty/${e}/assignments`,{params:s}),createAssignment:async e=>je.post("/assignments",e),updateAssignment:async(e,s)=>je.put(`/assignments/${e}`,s),deleteFacultyAssignment:async e=>je.delete(`/assignments/${e}`),getAssignmentSubmissions:async e=>je.get(`/assignments/${e}/submissions`),gradeSubmission:async(e,s)=>je.put(`/submissions/${e}/grade`,s),getCourseExams:async e=>je.get(`/courses/${e}/exams`),getExamGrades:async e=>je.get(`/exams/${e}/grades`),saveGrades:async(e,s)=>je.put(`/exams/${e}/grades`,{grades:s}),publishGrades:async e=>je.post(`/exams/${e}/publish-grades`),getAttendanceForDate:async(e,s)=>je.get(`/attendance/course/${e}/date/${s}`),markAttendance:async e=>je.post("/attendance/mark",e)},ye={getCourses:async e=>je.get("/courses",{params:e}),getCourse:async e=>je.get(`/courses/${e}`),createCourse:async e=>je.post("/courses",e),updateCourse:async(e,s)=>je.put(`/courses/${e}`,s),deleteCourse:async e=>je.delete(`/courses/${e}`),searchCourses:async(e,s)=>je.get("/courses/search",{params:{q:e,...s}}),getCourseSubjects:async e=>je.get(`/courses/${e}/subjects`),getCourseBatches:async e=>je.get(`/courses/${e}/batches`),getCourseStudents:async(e,s)=>je.get(`/courses/${e}/students`,{params:{batch_id:s}})},Ce={getDepartments:async e=>je.get("/departments",{params:e}),getDepartment:async e=>je.get(`/departments/${e}`),createDepartment:async e=>je.post("/departments",e),updateDepartment:async(e,s)=>je.put(`/departments/${e}`,s),deleteDepartment:async e=>je.delete(`/departments/${e}`),getDepartmentHierarchy:async()=>je.get("/departments/hierarchy"),getDepartmentFaculty:async e=>je.get(`/departments/${e}/faculty`)},fe={getAttendanceRegisters:async e=>je.get("/attendance/registers",{params:e}),getAttendanceSheet:async e=>je.get(`/attendance/sheets/${e}`),createAttendanceSheet:async e=>je.post("/attendance/sheets",e),markAttendance:async(e,s)=>je.post(`/attendance/sheets/${e}/mark`,s),getAttendanceReport:async e=>je.get("/attendance/report",{params:e}),getStudentAttendance:async(e,s)=>je.get(`/attendance/students/${e}`,{params:s}),deleteAttendanceSheet:async e=>je.delete(`/attendance/sheets/${e}`)},ve={getExamSessions:async e=>je.get("/exams/sessions",{params:e}),getExamSession:async e=>je.get(`/exams/sessions/${e}`),createExamSession:async e=>je.post("/exams/sessions",e),updateExamSession:async(e,s)=>je.put(`/exams/sessions/${e}`,s),getExams:async e=>je.get("/exams",{params:e}),getExam:async e=>je.get(`/exams/${e}`),createExam:async e=>je.post("/exams",e),updateExam:async(e,s)=>je.put(`/exams/${e}`,s),markExamResults:async(e,s)=>je.post(`/exams/${e}/results`,s),getExamResults:async e=>je.get(`/exams/${e}/results`),getExamStats:async e=>je.get("/exams/stats",{params:e}),deleteExamSession:async e=>je.delete(`/exams/sessions/${e}`),deleteExam:async e=>je.delete(`/exams/${e}`)},Pe=async()=>je.get("/common/countries"),Ee=async e=>je.get(`/common/countries/${e}/states`),be=async()=>je.get("/common/categories"),De={getDashboardStats:()=>je.get("/transportation/dashboard/stats"),getVehicles:()=>je.get("/transportation/vehicles"),getVehicle:e=>je.get(`/transportation/vehicles/${e}`),createVehicle:e=>je.post("/transportation/vehicles",e),updateVehicle:(e,s)=>je.put(`/transportation/vehicles/${e}`,s),deleteVehicle:e=>je.delete(`/transportation/vehicles/${e}`),getDrivers:()=>je.get("/transportation/drivers"),createDriver:e=>je.post("/transportation/drivers",e),getRoutes:()=>je.get("/transportation/routes"),createRoute:e=>je.post("/transportation/routes",e),createRouteStop:e=>je.post("/transportation/routes/stops",e),getStudentTransports:()=>je.get("/transportation/student-transport"),createStudentTransport:e=>je.post("/transportation/student-transport",e),getMaintenanceRecords:()=>je.get("/transportation/maintenance"),createMaintenanceRecord:e=>je.post("/transportation/maintenance",e),updateMaintenanceStatus:(e,s)=>je.patch(`/transportation/maintenance/${e}/status`,{status:s}),getVehicleRouteAssignments:()=>je.get("/transportation/vehicle-routes"),createVehicleRouteAssignment:e=>je.post("/transportation/vehicle-routes",e),certificate:{getDashboardStats:()=>je.get("/certificate/dashboard/stats"),getAllCertificateTypes:e=>je.get("/certificate/types",{params:e}),getCertificateTypeById:e=>je.get(`/certificate/types/${e}`),createCertificateType:e=>je.post("/certificate/types",e),updateCertificateType:(e,s)=>je.put(`/certificate/types/${e}`,s),deleteCertificateType:e=>je.delete(`/certificate/types/${e}`),getAllCertificateTemplates:e=>je.get("/certificate/templates",{params:e}),getCertificateTemplateById:e=>je.get(`/certificate/templates/${e}`),createCertificateTemplate:e=>je.post("/certificate/templates",e),updateCertificateTemplate:(e,s)=>je.put(`/certificate/templates/${e}`,s),deleteCertificateTemplate:e=>je.delete(`/certificate/templates/${e}`),getAllCertificates:e=>je.get("/certificate/certificates",{params:e}),getCertificateById:e=>je.get(`/certificate/certificates/${e}`),getCertificateByNumber:e=>je.get(`/certificate/certificates/number/${e}`),createCertificate:e=>je.post("/certificate/certificates",e),updateCertificate:(e,s)=>je.put(`/certificate/certificates/${e}`,s),deleteCertificate:e=>je.delete(`/certificate/certificates/${e}`),verifyCertificate:e=>je.post("/certificate/verify",e),verifyCertificateByCode:e=>je.get(`/certificate/verify/${e}`),createCertificateBatch:e=>je.post("/certificate/batches",e),processCertificateBatch:e=>je.post(`/certificate/batches/${e}/process`),publicVerifyCertificate:e=>je.get(`/certificate/verify/${e}`)},alumni:{getDashboardStats:()=>je.get("/alumni/dashboard/stats"),getAllAlumni:e=>je.get("/alumni/alumni",{params:e}),getAlumniById:e=>je.get(`/alumni/alumni/${e}`),createAlumni:e=>je.post("/alumni/alumni",e),updateAlumni:(e,s)=>je.put(`/alumni/alumni/${e}`,s),deleteAlumni:e=>je.delete(`/alumni/alumni/${e}`),getAllAlumniEvents:e=>je.get("/alumni/events",{params:e}),getAlumniEventById:e=>je.get(`/alumni/events/${e}`),createAlumniEvent:e=>je.post("/alumni/events",e),updateAlumniEvent:(e,s)=>je.put(`/alumni/events/${e}`,s),deleteAlumniEvent:e=>je.delete(`/alumni/events/${e}`),getAllAlumniDonations:e=>je.get("/alumni/donations",{params:e}),getAlumniDonationById:e=>je.get(`/alumni/donations/${e}`),createAlumniDonation:e=>je.post("/alumni/donations",e),updateAlumniDonation:(e,s)=>je.put(`/alumni/donations/${e}`,s),deleteAlumniDonation:e=>je.delete(`/alumni/donations/${e}`),getAllMentorshipPrograms:e=>je.get("/alumni/mentorship-programs",{params:e}),getMentorshipProgramById:e=>je.get(`/alumni/mentorship-programs/${e}`),createMentorshipProgram:e=>je.post("/alumni/mentorship-programs",e),updateMentorshipProgram:(e,s)=>je.put(`/alumni/mentorship-programs/${e}`,s),deleteMentorshipProgram:e=>je.delete(`/alumni/mentorship-programs/${e}`),getAllAlumniJobPosts:e=>je.get("/alumni/job-posts",{params:e}),getAlumniJobPostById:e=>je.get(`/alumni/job-posts/${e}`),createAlumniJobPost:e=>je.post("/alumni/job-posts",e),updateAlumniJobPost:(e,s)=>je.put(`/alumni/job-posts/${e}`,s),deleteAlumniJobPost:e=>je.delete(`/alumni/job-posts/${e}`),getAlumniByGraduationYear:e=>je.get(`/alumni/alumni/graduation-year/${e}`),getAlumniByIndustry:e=>je.get(`/alumni/alumni/industry/${e}`),getWillingMentors:()=>je.get("/alumni/mentors"),getUpcomingEvents:()=>je.get("/alumni/events/upcoming")},hostel:{getDashboardStats:()=>je.get("/hostel/dashboard/stats"),getAllHostels:()=>je.get("/hostel/hostels"),getHostelById:e=>je.get(`/hostel/hostels/${e}`),createHostel:e=>je.post("/hostel/hostels",e),updateHostel:(e,s)=>je.put(`/hostel/hostels/${e}`,s),deleteHostel:e=>je.delete(`/hostel/hostels/${e}`),getAllRoomCategories:()=>je.get("/hostel/room-categories"),createRoomCategory:e=>je.post("/hostel/room-categories",e),getAllRooms:()=>je.get("/hostel/rooms"),createRoom:e=>je.post("/hostel/rooms",e),updateRoom:(e,s)=>je.put(`/hostel/rooms/${e}`,s),deleteRoom:e=>je.delete(`/hostel/rooms/${e}`),getAllRoomAllocations:()=>je.get("/hostel/room-allocations"),createRoomAllocation:e=>je.post("/hostel/room-allocations",e),updateRoomAllocation:(e,s)=>je.put(`/hostel/room-allocations/${e}`,s),deleteRoomAllocation:e=>je.delete(`/hostel/room-allocations/${e}`),getMessMenu:()=>je.get("/hostel/mess-menu"),createMessMenuItem:e=>je.post("/hostel/mess-menu",e),getAllVisitorLogs:()=>je.get("/hostel/visitor-logs"),createVisitorLog:e=>je.post("/hostel/visitor-logs",e),updateVisitorLog:(e,s)=>je.put(`/hostel/visitor-logs/${e}`,s),deleteVisitorLog:e=>je.delete(`/hostel/visitor-logs/${e}`),checkOutVisitor:e=>je.patch(`/hostel/visitor-logs/${e}/checkout`),getAllMaintenanceRequests:()=>je.get("/hostel/maintenance-requests"),createMaintenanceRequest:e=>je.post("/hostel/maintenance-requests",e),updateMaintenanceRequest:(e,s)=>je.put(`/hostel/maintenance-requests/${e}`,s),deleteMaintenanceRequest:e=>je.delete(`/hostel/maintenance-requests/${e}`),updateMaintenanceRequestStatus:(e,s)=>je.patch(`/hostel/maintenance-requests/${e}/status`,{status:s})}},Re=new class extends ge{constructor(){super(...arguments),this.students={getStudents:e=>this.get("/students",{params:e}),getAllStudents:()=>this.get("/students"),getStudent:e=>this.get(`/students/${e}`),createStudent:e=>this.post("/students",e),updateStudent:(e,s)=>this.put(`/students/${e}`,s),deleteStudent:e=>this.delete(`/students/${e}`),searchStudents:(e,s)=>this.get("/students/search",{params:{q:e,...s}}),getStudentCourses:e=>this.get(`/students/${e}/courses`),getAttendanceSummary:(e,s)=>this.get(`/students/${e}/attendance`,{params:s}),getExamResults:(e,s)=>this.get(`/students/${e}/exams`,{params:s}),getAcademicPerformance:e=>this.get(`/students/${e}/performance`),getStudentDashboard:e=>this.get(`/students/${e}/dashboard`),bulkCreateStudents:e=>this.post("/students/bulk",{students:e}),transferStudent:(e,s)=>this.post(`/students/${e}/transfer`,s),getStudentsByCourse:(e,s)=>this.get(`/students/course/${e}`,{params:{batch_id:s}}),getStudentsByFaculty:e=>this.get(`/students/faculty/${e}`),generateIdCard:e=>this.get(`/students/${e}/id-card`),getStudentStats:()=>this.get("/students/stats")},this.hostel={getDashboardStats:()=>this.get("/hostel/dashboard/stats"),getAllHostels:()=>this.get("/hostel/hostels"),getHostelById:e=>this.get(`/hostel/hostels/${e}`),createHostel:e=>this.post("/hostel/hostels",e),updateHostel:(e,s)=>this.put(`/hostel/hostels/${e}`,s),deleteHostel:e=>this.delete(`/hostel/hostels/${e}`),getAllRoomCategories:()=>this.get("/hostel/room-categories"),createRoomCategory:e=>this.post("/hostel/room-categories",e),getAllRooms:()=>this.get("/hostel/rooms"),createRoom:e=>this.post("/hostel/rooms",e),updateRoom:(e,s)=>this.put(`/hostel/rooms/${e}`,s),deleteRoom:e=>this.delete(`/hostel/rooms/${e}`),getAllRoomAllocations:()=>this.get("/hostel/room-allocations"),createRoomAllocation:e=>this.post("/hostel/room-allocations",e),updateRoomAllocation:(e,s)=>this.put(`/hostel/room-allocations/${e}`,s),deleteRoomAllocation:e=>this.delete(`/hostel/room-allocations/${e}`),getMessMenu:()=>this.get("/hostel/mess-menu"),createMessMenuItem:e=>this.post("/hostel/mess-menu",e),getAllVisitorLogs:()=>this.get("/hostel/visitor-logs"),createVisitorLog:e=>this.post("/hostel/visitor-logs",e),updateVisitorLog:(e,s)=>this.put(`/hostel/visitor-logs/${e}`,s),deleteVisitorLog:e=>this.delete(`/hostel/visitor-logs/${e}`),checkOutVisitor:e=>this.patch(`/hostel/visitor-logs/${e}/checkout`),getAllMaintenanceRequests:()=>this.get("/hostel/maintenance-requests"),createMaintenanceRequest:e=>this.post("/hostel/maintenance-requests",e),updateMaintenanceRequest:(e,s)=>this.put(`/hostel/maintenance-requests/${e}`,s),deleteMaintenanceRequest:e=>this.delete(`/hostel/maintenance-requests/${e}`),updateMaintenanceRequestStatus:(e,s)=>this.patch(`/hostel/maintenance-requests/${e}/status`,{status:s})}}};Re.certificate={getCertificateTypes:e=>Re.get("/certificate-types",{params:e}),getCertificateType:e=>Re.get(`/certificate-types/${e}`),createCertificateType:e=>Re.post("/certificate-types",e),updateCertificateType:(e,s)=>Re.put(`/certificate-types/${e}`,s),deleteCertificateType:e=>Re.delete(`/certificate-types/${e}`),getCertificates:e=>Re.get("/certificates",{params:e}),getCertificate:e=>Re.get(`/certificates/${e}`),createCertificate:e=>Re.post("/certificates",e),updateCertificate:(e,s)=>Re.put(`/certificates/${e}`,s),deleteCertificate:e=>Re.delete(`/certificates/${e}`),getAllCertificateTypes:e=>Re.get("/certificate-types",{params:e}),getAllCertificateTemplates:e=>Re.get("/certificate-templates",{params:e}),getAllCertificates:e=>Re.get("/certificates",{params:e})},Se.getCourses=Se.getFaculty,Se.getById=Se.getFacultyById,Se.create=Se.createFaculty,Se.update=Se.updateFaculty,ye.getById=ye.getCourse,ye.create=ye.createCourse,ye.update=ye.updateCourse,Ce.getById=Ce.getDepartment,Ce.create=Ce.createDepartment,Ce.update=Ce.updateDepartment,ve.getById=ve.getExam,ve.create=ve.createExam,ve.update=ve.updateExam,Re.student=Re.students,Re.alumni=De.alumni,Re.partner={getAllPartners:()=>Re.get("/partners")},Re.department={getAllDepartments:()=>Ce.getDepartments()},Re.program={getAllPrograms:()=>Re.get("/programs")},Re.course={getAllCourses:()=>ye.getCourses(),getAllBatches:()=>Re.get("/batches")},fe.getById=fe.getAttendanceSheet,fe.create=fe.createAttendanceSheet,fe.update=(e,s)=>Re.put(`/attendance/sheets/${e}`,s),Re.students.getCourses=()=>ye.getCourses(),new class{async login(e){return(await je.post("/auth/login",e)).data}async logout(e=!1){await je.post("/auth/logout",{fromAllDevices:e})}async register(e){return(await je.post("/auth/register",e)).data}async refreshToken(e){return(await je.post("/auth/refresh",{refreshToken:e})).data}async verifyToken(){await je.post("/auth/verify")}async getProfile(){return(await je.get("/auth/profile")).data}async updateProfile(e){return(await je.put("/auth/profile",e)).data}async changePassword(e){await je.post("/auth/change-password",e)}async requestPasswordReset(e){await je.post("/auth/forgot-password",{email:e})}async resetPassword(e,s){await je.post("/auth/reset-password",{token:e,newPassword:s})}async getMFAMethods(){return(await je.get("/auth/mfa/methods")).data}async setupMFA(e,s){return(await je.post("/auth/mfa/setup",{method:e,...s})).data}async verifyMFA(e,s){return(await je.post("/auth/mfa/verify",{code:e,method:s})).data}async disableMFA(e){await je.delete(`/auth/mfa/${e}`)}async getActiveSessions(){return(await je.get("/auth/sessions")).data}async terminateSession(e){await je.delete(`/auth/sessions/${e}`)}async terminateAllOtherSessions(){await je.delete("/auth/sessions")}async getRoles(){return(await je.get("/auth/roles")).data}async getPermissions(){return(await je.get("/auth/permissions")).data}async getPermissionGroups(){return(await je.get("/auth/permission-groups")).data}async assignRole(e,s){await je.post(`/auth/users/${e}/roles`,{roleId:s})}async removeRole(e,s){await je.delete(`/auth/users/${e}/roles/${s}`)}async assignPermission(e,s){await je.post(`/auth/users/${e}/permissions`,{permissionId:s})}async removePermission(e,s){await je.delete(`/auth/users/${e}/permissions/${s}`)}async sendEmailVerification(){await je.post("/auth/verify-email/send")}async verifyEmail(e){await je.post("/auth/verify-email",{token:e})}async sendPhoneVerification(){await je.post("/auth/verify-phone/send")}async verifyPhone(e){await je.post("/auth/verify-phone",{code:e})}async getLoginHistory(e){return(await je.get(`/auth/users/${e}/login-history`)).data}async getSecurityLog(e){return(await je.get(`/auth/users/${e}/security-log`)).data}async updateSecurityPreferences(e){await je.put("/auth/security-preferences",e)}},localStorage.getItem("auth_token"),localStorage.getItem("refresh_token");const Oe=(0,r.createContext)(void 0),Ie=()=>{const e=(0,r.useContext)(Oe);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e};var Te=n(4635),we=n(7211),We=n(7873),Me=n(2241),Fe=n(2848),Ne=n(9799),Ue=n(8620),ke=n(1432),Le=n(1656),Ve=n(2048),Ge=n(8451),He=n(7562);const $e=({open:e,onClose:s,variant:n="persistent",width:a=280})=>{const i=(0,F.A)(),o=(0,N.A)(i.breakpoints.down("md")),l=(0,C.Zp)(),c=(0,C.zy)(),{user:d,hasPermission:m,logout:u}=Ie(),[p,x]=(0,r.useState)(new Set),[h,A]=(0,r.useState)(!1),g=[{id:"dashboard",label:"Dashboard",icon:te.A,path:"/dashboard",permission:"view_dashboard"},{id:"academics",label:"Academics",icon:re.A,children:[{id:"courses",label:"Courses",icon:xe.A,path:"/courses",permission:"manage_courses"},{id:"departments",label:"Departments",icon:re.A,path:"/departments",permission:"manage_departments"},{id:"timetable",label:"Timetable",icon:de.A,path:"/academics/timetable",permission:"view_timetable"}]},{id:"student-management",label:"Student Management",icon:ae.A,children:[{id:"students",label:"Students",icon:ke.A,path:"/students",permission:"manage_students"},{id:"enrollments",label:"Enrollments",icon:ce.A,path:"/students/enrollments",permission:"manage_students"},{id:"attendance",label:"Attendance",icon:de.A,path:"/attendance",permission:"mark_attendance"},{id:"admissions",label:"Admissions",icon:ke.A,path:"/admissions",permission:"manage_admissions"}]},{id:"faculty-management",label:"Faculty Management",icon:ue.A,children:[{id:"faculty",label:"Faculty",icon:ke.A,path:"/faculty",permission:"manage_faculty"}]},{id:"examinations",label:"Examinations",icon:ie.A,children:[{id:"exams",label:"Exams",icon:ie.A,path:"/exams",permission:"manage_exams"},{id:"assignments",label:"Assignments",icon:ce.A,path:"/assignments",permission:"create_assignments"},{id:"results",label:"Results",icon:ie.A,path:"/exams/results",permission:"enter_grades"},{id:"grade-reports",label:"Grade Reports",icon:ie.A,path:"/exams/reports",permission:"view_reports"}]},{id:"library",label:"Library",icon:oe.A,children:[{id:"media",label:"Media",icon:xe.A,path:"/library/media",permission:"manage_library"},{id:"issues",label:"Issues",icon:ce.A,path:"/library/issues",permission:"manage_library"},{id:"overdue",label:"Overdue",icon:de.A,path:"/library/overdue",permission:"manage_library"}]},{id:"fees",label:"Fees Management",icon:le.A,children:[{id:"fee-terms",label:"Fee Terms",icon:se.A,path:"/fees/terms",permission:"manage_fees"},{id:"fee-details",label:"Fee Details",icon:le.A,path:"/fees/details",permission:"manage_fees"},{id:"fee-reports",label:"Fee Reports",icon:ie.A,path:"/fees/reports",permission:"view_reports"}]},{id:"activities",label:"Activities",icon:ce.A,children:[{id:"student-activities",label:"Student Activities",icon:ae.A,path:"/activities/students",permission:"manage_activities"},{id:"events",label:"Events",icon:de.A,path:"/activities/events",permission:"manage_activities"}]},{id:"facilities",label:"Facilities",icon:re.A,children:[{id:"classrooms",label:"Classrooms",icon:re.A,path:"/facilities/classrooms",permission:"manage_facilities"},{id:"venues",label:"Venues",icon:re.A,path:"/facilities/venues",permission:"manage_facilities"}]},{id:"reports",label:"Reports & Analytics",icon:ie.A,children:[{id:"academic-reports",label:"Academic Reports",icon:ie.A,path:"/reports/academic",permission:"view_reports"},{id:"attendance-reports",label:"Attendance Reports",icon:de.A,path:"/reports/attendance",permission:"view_reports"},{id:"financial-reports",label:"Financial Reports",icon:le.A,path:"/reports/financial",permission:"view_reports"}]},{id:"administration",label:"Administration",icon:me.A,children:[{id:"users",label:"Users",icon:ae.A,path:"/admin/users",permission:"manage_users"},{id:"roles",label:"Roles & Permissions",icon:se.A,path:"/admin/roles",permission:"manage_users"},{id:"system-settings",label:"System Settings",icon:se.A,path:"/admin/settings",permission:"manage_system"},{id:"audit-logs",label:"Audit Logs",icon:ie.A,path:"/admin/audit-logs",permission:"manage_system"}]}],j=e=>{if(e.path)l(e.path),o&&s();else if(e.children){const s=new Set(p);s.has(e.id)?s.delete(e.id):s.add(e.id),x(s)}},_=e=>e.path?c.pathname===e.path:!!e.children&&e.children.some(e=>_(e)),S=e=>{if(e.permission){if("string"==typeof e.permission){const s={view_dashboard:{action:"read",resource:"user"},manage_courses:{action:"manage",resource:"course"},manage_departments:{action:"manage",resource:"department"},view_timetable:{action:"read",resource:"course"},manage_students:{action:"manage",resource:"student"},mark_attendance:{action:"create",resource:"attendance"},manage_admissions:{action:"manage",resource:"student"},manage_faculty:{action:"manage",resource:"faculty"},manage_exams:{action:"manage",resource:"exam"},create_assignments:{action:"create",resource:"assignment"},enter_grades:{action:"update",resource:"grade"},view_reports:{action:"read",resource:"report"},manage_library:{action:"manage",resource:"library"},manage_fees:{action:"manage",resource:"fee"},manage_users:{action:"manage",resource:"user"},manage_system:{action:"manage",resource:"setting"}}[e.permission];return!s||m(s.action,s.resource)}return m(e.permission.action,e.permission.resource)}return!e.children||e.children.some(e=>S(e))},y=(e,s=0)=>{if(!S(e))return null;const n=_(e),r=e.children&&e.children.length>0,a=p.has(e.id),o=(e=>!!e.children&&e.children.some(e=>_(e)))(e);return(0,t.jsxs)(G.A,{children:[(0,t.jsx)(Te.Ay,{disablePadding:!0,sx:{pl:2*s+2,"& .MuiListItemButton-root":{borderRadius:1,mx:1,mb:.5}},children:(0,t.jsxs)(we.A,{onClick:()=>j(e),selected:n||o,sx:{minHeight:48,"&.Mui-selected":{backgroundColor:i.palette.primary.light+"20","&:hover":{backgroundColor:i.palette.primary.light+"30"}}},children:[e.icon&&(0,t.jsx)(We.A,{sx:{minWidth:h?40:48,color:n?i.palette.primary.main:"inherit"},children:(0,t.jsx)(e.icon,{})}),!h&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Me.A,{primary:e.label,primaryTypographyProps:{fontWeight:n?600:400,color:n?i.palette.primary.main:"inherit"}}),r&&(0,t.jsx)(J.A,{size:"small",onClick:s=>{s.stopPropagation(),j(e)},children:a?(0,t.jsx)(Le.A,{}):(0,t.jsx)(Ve.A,{})})]})]})}),r&&a&&!h&&(0,t.jsx)(Fe.A,{in:a,timeout:"auto",unmountOnExit:!0,children:(0,t.jsx)(Ne.A,{component:"div",disablePadding:!0,children:e.children.map(e=>y(e,s+1))})})]},e.id)};return(0,t.jsxs)(Ue.Ay,{variant:n,open:e,onClose:s,sx:{width:h?80:a,flexShrink:0,"& .MuiDrawer-paper":{width:h?80:a,boxSizing:"border-box",borderRight:`1px solid ${i.palette.divider}`,transition:i.transitions.create("width",{easing:i.transitions.easing.sharp,duration:i.transitions.duration.enteringScreen})}},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",justifyContent:h?"center":"space-between",p:2,borderBottom:`1px solid ${i.palette.divider}`,backgroundColor:i.palette.primary.main,color:i.palette.primary.contrastText},children:[!h&&(0,t.jsx)(k.A,{variant:"h6",noWrap:!0,children:"OpenEducat ERP"}),(0,t.jsx)(J.A,{onClick:()=>{A(!h)},sx:{color:"inherit"},children:h?(0,t.jsx)(He.A,{}):(0,t.jsx)(Ge.A,{})})]}),(0,t.jsxs)(G.A,{sx:{p:2,borderBottom:`1px solid ${i.palette.divider}`,backgroundColor:i.palette.background.paper},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,t.jsx)(H.A,{sx:{width:48,height:48,mr:2,backgroundColor:i.palette.primary.main},children:d?.first_name?.[0]||d?.email?.[0]||"U"}),!h&&(0,t.jsxs)(G.A,{sx:{flex:1,minWidth:0},children:[(0,t.jsx)(k.A,{variant:"subtitle1",noWrap:!0,children:d?.first_name&&d?.last_name?`${d.first_name} ${d.last_name}`:d?.email||"User"}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",noWrap:!0,children:d?.email}),(0,t.jsx)($.A,{icon:d?.is_admin?(0,t.jsx)(me.A,{}):d?.is_faculty?(0,t.jsx)(ue.A,{}):d?.is_student?(0,t.jsx)(re.A,{}):d?.is_parent?(0,t.jsx)(pe.A,{}):(0,t.jsx)(ee.A,{}),label:d?.is_admin?"Administrator":d?.is_faculty?"Faculty":d?.is_student?"Student":d?.is_parent?"Parent":"User",size:"small",variant:"outlined",sx:{mt:.5}})]})]}),!h&&(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>l("/profile"),sx:{flex:1},children:(0,t.jsx)(ee.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:async()=>{try{await u(),l("/login")}catch(e){console.error("Logout error:",e)}},sx:{flex:1},children:(0,t.jsx)(se.A,{})})]})]}),(0,t.jsx)(G.A,{sx:{flex:1,overflow:"auto"},children:(0,t.jsx)(Ne.A,{component:"nav",sx:{py:1},children:g.map(e=>y(e))})}),!h&&(0,t.jsx)(G.A,{sx:{p:2,borderTop:`1px solid ${i.palette.divider}`,textAlign:"center"},children:(0,t.jsx)(k.A,{variant:"caption",color:"text.secondary",children:"v1.0.0"})})]})},qe=({children:e})=>{const s=(0,F.A)(),n=(0,N.A)(s.breakpoints.down("md")),a=(0,C.Zp)(),i=(0,C.zy)(),{user:o,logout:l}=Ie(),[c,d]=(0,r.useState)(!n),[m,u]=(0,r.useState)(null),[p,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{d(!n)},[n]);const h=()=>{u(null)};return(0,t.jsxs)(G.A,{sx:{display:"flex",height:"100vh"},children:[(0,t.jsx)(f.l$,{position:"top-right",toastOptions:{duration:4e3,style:{background:s.palette.background.paper,color:s.palette.text.primary,border:`1px solid ${s.palette.divider}`}}}),(0,t.jsx)($e,{open:c,onClose:()=>d(!1),variant:n?"temporary":"persistent"}),(0,t.jsxs)(G.A,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[(0,t.jsx)(K.A,{position:"sticky",sx:{zIndex:s.zIndex.drawer+1,backgroundColor:s.palette.background.paper,color:s.palette.text.primary,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:(0,t.jsxs)(z.A,{children:[(0,t.jsx)(J.A,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:()=>{d(!c)},sx:{mr:2},children:(0,t.jsx)(Z.A,{})}),(0,t.jsx)(G.A,{sx:{flex:1,display:{xs:"none",sm:"block"}},children:(()=>{const e=(e=>{const s=e.split("/").filter(Boolean),n=[{label:"Home",path:"/",icon:te.A}];let t="";return s.forEach((e,s)=>{t+=`/${e}`;let r=e.charAt(0).toUpperCase()+e.slice(1),a=te.A;switch(e){case"dashboard":r="Dashboard",a=te.A;break;case"students":r="Students",a=ae.A;break;case"faculty":r="Faculty",a=ue.A;break;case"courses":r="Courses",a=re.A;break;case"subjects":r="Subjects",a=xe.A;break;case"batches":r="Batches",a=ue.A;break;case"attendance":r="Attendance",a=de.A;break;case"exams":r="Examinations",a=ie.A;break;case"assignments":r="Assignments",a=ce.A;break;case"library":r="Library",a=oe.A;break;case"fees":r="Fees",a=le.A;break;case"reports":r="Reports",a=ie.A;break;case"admin":r="Administration",a=me.A;break;case"academics":r="Academics",a=re.A;break;case"activities":r="Activities",a=ce.A;break;case"facilities":r="Facilities",a=re.A;break;default:r=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}n.push({label:r,path:t,icon:a})}),n})(i.pathname);return(0,t.jsx)(U.A,{"aria-label":"breadcrumb",sx:{color:"inherit","& .MuiBreadcrumbs-separator":{color:"inherit"}},children:e.map((s,n)=>n===e.length-1?(0,t.jsxs)(k.A,{color:"inherit",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(s.icon,{fontSize:"small"}),s.label]},s.path):(0,t.jsxs)(L.A,{color:"inherit",href:s.path,onClick:e=>{e.preventDefault(),a(s.path)},sx:{display:"flex",alignItems:"center",gap:1,textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[(0,t.jsx)(s.icon,{fontSize:"small"}),s.label]},s.path))})})()}),(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(X.A,{title:"Notifications",children:(0,t.jsx)(J.A,{color:"inherit",onClick:e=>{x(e.currentTarget)},children:(0,t.jsx)(Y.A,{badgeContent:0,color:"error",children:(0,t.jsx)(Q.A,{})})})}),(0,t.jsx)(X.A,{title:"User menu",children:(0,t.jsx)(J.A,{color:"inherit",onClick:e=>{u(e.currentTarget)},sx:{ml:1},children:(0,t.jsx)(H.A,{sx:{width:32,height:32,backgroundColor:s.palette.primary.main},children:o?.first_name?.[0]||o?.email?.[0]||"U"})})})]})]})}),(0,t.jsx)(G.A,{component:"main",sx:{flex:1,overflow:"auto",backgroundColor:s.palette.background.default,p:{xs:2,md:3}},children:e})]}),(0,t.jsxs)(V.A,{anchorEl:m,open:Boolean(m),onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:1,minWidth:200}},children:[(0,t.jsxs)(G.A,{sx:{p:2,borderBottom:`1px solid ${s.palette.divider}`},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,t.jsx)(H.A,{sx:{width:40,height:40,mr:2,backgroundColor:s.palette.primary.main},children:o?.first_name?.[0]||o?.email?.[0]||"U"}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"subtitle2",noWrap:!0,children:o?.first_name&&o?.last_name?`${o.first_name} ${o.last_name}`:o?.email||"User"}),(0,t.jsx)(k.A,{variant:"caption",color:"text.secondary",noWrap:!0,children:o?.email})]})]}),(0,t.jsx)($.A,{icon:o?.is_admin?(0,t.jsx)(me.A,{}):o?.is_faculty?(0,t.jsx)(ue.A,{}):o?.is_student?(0,t.jsx)(re.A,{}):o?.is_parent?(0,t.jsx)(pe.A,{}):(0,t.jsx)(ee.A,{}),label:o?.is_admin?"Administrator":o?.is_faculty?"Faculty":o?.is_student?"Student":o?.is_parent?"Parent":"User",size:"small",variant:"outlined"})]}),(0,t.jsxs)(q.A,{onClick:()=>{a("/profile"),h()},children:[(0,t.jsx)(ee.A,{sx:{mr:2}}),"Profile"]}),(0,t.jsxs)(q.A,{onClick:()=>{a("/settings"),h()},children:[(0,t.jsx)(se.A,{sx:{mr:2}}),"Settings"]}),(0,t.jsx)(B.A,{}),(0,t.jsxs)(q.A,{onClick:async()=>{try{await l(),a("/login")}catch(e){console.error("Logout error:",e)}h()},children:[(0,t.jsx)(ne.A,{sx:{mr:2}}),"Logout"]})]}),(0,t.jsxs)(V.A,{anchorEl:p,open:Boolean(p),onClose:()=>{x(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{mt:1,minWidth:300,maxHeight:400}},children:[(0,t.jsx)(G.A,{sx:{p:2,borderBottom:`1px solid ${s.palette.divider}`},children:(0,t.jsx)(k.A,{variant:"h6",children:"Notifications"})}),(0,t.jsx)(G.A,{sx:{p:2,textAlign:"center"},children:(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"No new notifications"})})]})]})};var Be=n(4977),Ke=n(7636),ze=n(995),Je=n(9502),Xe=n(779),Ye=n(4433),Ze=n(5460),Qe=n(5239),es=n(2471),ss=n(5100),ns=n(5673),ts=n(6768),rs=n(9898),as=n(5042);const is=()=>{const e=(0,F.A)(),s=((0,N.A)(e.breakpoints.down("sm")),(0,C.Zp)()),{login:n}=M(),[a,i]=(0,r.useState)({email:"",password:"",role:"student"}),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),p=e=>s=>{i(n=>({...n,[e]:s.target.value})),u(null)},x=()=>{switch(a.role){case"admin":return{email:"admin@s-erp.com",password:"admin123"};case"teacher":return{email:"teacher@s-erp.com",password:"teacher123"};default:return{email:"student@s-erp.com",password:"student123"}}};return(0,t.jsx)(G.A,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:e.palette.background.default,p:2},children:(0,t.jsx)(Be.A,{sx:{maxWidth:600,width:"100%",boxShadow:e.shadows[20]},children:(0,t.jsxs)(Ke.A,{sx:{p:4},children:[(0,t.jsxs)(G.A,{display:"flex",flexDirection:"column",alignItems:"center",mb:4,children:[(0,t.jsx)(re.A,{sx:{fontSize:48,color:e.palette.primary.main,mb:2}}),(0,t.jsx)(k.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Welcome to S-ERP"}),(0,t.jsx)(k.A,{variant:"body1",color:"text.secondary",align:"center",children:"Sign in to access your educational dashboard"})]}),(0,t.jsx)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),u(null);try{await n(a),s("/dashboard")}catch(e){u(e instanceof Error?e.message:"Login failed. Please try again.")}finally{d(!1)}},children:(0,t.jsxs)(ze.A,{spacing:3,children:[m&&(0,t.jsx)(Je.A,{severity:"error",onClose:()=>u(null),children:m}),(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Role"}),(0,t.jsxs)(Ze.A,{value:a.role,label:"Role",onChange:e=>p("role")(e),startAdornment:(0,t.jsx)(Qe.A,{position:"start",children:(0,t.jsx)(ke.A,{})}),children:[(0,t.jsx)(q.A,{value:"student",children:"Student"}),(0,t.jsx)(q.A,{value:"teacher",children:"Teacher"}),(0,t.jsx)(q.A,{value:"admin",children:"Administrator"})]})]}),(0,t.jsx)(es.A,{fullWidth:!0,label:"Email Address",type:"email",value:a.email,onChange:p("email"),InputProps:{startAdornment:(0,t.jsx)(Qe.A,{position:"start",children:(0,t.jsx)(ke.A,{})})}}),(0,t.jsx)(es.A,{fullWidth:!0,label:"Password",type:o?"text":"password",value:a.password,onChange:p("password"),InputProps:{startAdornment:(0,t.jsx)(Qe.A,{position:"start",children:(0,t.jsx)(rs.A,{})}),endAdornment:(0,t.jsx)(Qe.A,{position:"end",children:(0,t.jsx)(J.A,{onClick:()=>l(!o),edge:"end",children:o?(0,t.jsx)(ts.A,{}):(0,t.jsx)(ns.A,{})})})}}),(0,t.jsxs)(G.A,{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:1,children:[(0,t.jsx)(L.A,{href:"#",onClick:e=>{e.preventDefault(),s("/auth/forgot-password")},variant:"body2",children:"Forgot password?"}),(0,t.jsx)(as.A,{loading:c,variant:"contained",type:"submit",size:"large",children:"Sign In"})]})]})}),(0,t.jsx)(G.A,{my:3,children:(0,t.jsx)(B.A,{children:(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"OR"})})}),(0,t.jsxs)(G.A,{display:"flex",flexDirection:"column",gap:2,children:[(0,t.jsx)(ss.A,{variant:"outlined",onClick:()=>{const e=x();i(s=>({...s,...e}))},fullWidth:!0,children:"Try Demo Account"}),(0,t.jsxs)(G.A,{display:"flex",justifyContent:"center",gap:1,children:[(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Don't have an account?"}),(0,t.jsx)(L.A,{href:"#",onClick:e=>{e.preventDefault(),s("/auth/register")},variant:"body2",children:"Sign up"})]})]}),(0,t.jsxs)(G.A,{mt:4,children:[(0,t.jsxs)(k.A,{variant:"caption",color:"text.secondary",display:"block",align:"center",children:["Demo Credentials for ",a.role,":"]}),(0,t.jsxs)(k.A,{variant:"caption",color:"text.secondary",display:"block",align:"center",children:["Email: ",x().email]}),(0,t.jsxs)(k.A,{variant:"caption",color:"text.secondary",display:"block",align:"center",children:["Password: ",x().password]})]})]})})})};var os=n(7834),ls=n(538),cs=n(9),ds=n(423),ms=n(3357),us=n(8335),ps=n(9873),xs=n(1845),hs=n(3445);function As(e){const{children:s,value:n,index:r,...a}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:n!==r,id:`mfa-tabpanel-${r}`,"aria-labelledby":`mfa-tab-${r}`,...a,children:n===r&&(0,t.jsx)(G.A,{sx:{p:3},children:s})})}const gs=()=>{const e=(0,C.Zp)(),{verifyMFA:s,setupMFA:n,user:a}=Ie(),[i,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[x,h]=(0,r.useState)(null),[A,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{a?.mfa_methods&&0===a.mfa_methods.length&&o(1)},[a]);const j=async e=>{try{m(!0),p(null);const s=await n(e);s?.qrCode&&h(s.qrCode),s?.secret&&g(s.secret)}catch(e){p(e.response?.data?.message||"Setup failed")}finally{m(!1)}};return(0,t.jsx)(os.A,{maxWidth:"sm",children:(0,t.jsx)(G.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",py:4},children:(0,t.jsxs)(ls.A,{elevation:3,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,t.jsx)(us.A,{color:"primary",sx:{width:48,height:48,mb:2}}),(0,t.jsx)(k.A,{component:"h1",variant:"h5",gutterBottom:!0,children:"Two-Factor Authentication"}),u&&(0,t.jsx)(Je.A,{severity:"error",sx:{width:"100%",mb:2},children:u}),(0,t.jsxs)(cs.A,{value:i,onChange:(e,s)=>o(s),sx:{mb:3,width:"100%"},children:[(0,t.jsx)(ds.A,{label:"Verify",disabled:!a?.mfa_methods||0===a.mfa_methods.length}),(0,t.jsx)(ds.A,{label:"Setup"}),(0,t.jsx)(ds.A,{label:"Help"})]}),(0,t.jsx)(As,{value:i,index:0,children:(0,t.jsxs)(G.A,{sx:{width:"100%"},children:[(0,t.jsx)(k.A,{variant:"body1",gutterBottom:!0,children:"Enter the verification code from your authenticator app or device."}),(0,t.jsx)(es.A,{fullWidth:!0,label:"Verification Code",value:l,onChange:e=>c(e.target.value),margin:"normal",autoFocus:!0,inputProps:{maxLength:6},sx:{mb:2}}),(0,t.jsx)(ss.A,{fullWidth:!0,variant:"contained",onClick:async()=>{try{m(!0),p(null);const n=a?.mfa_methods?.find(e=>e.isEnabled)?.type||"authenticator";await s(l,n),e("/dashboard")}catch(e){p(e.response?.data?.message||"Verification failed")}finally{m(!1)}},disabled:d||6!==l.length,children:d?(0,t.jsx)(ms.A,{size:24}):"Verify"})]})}),(0,t.jsx)(As,{value:i,index:1,children:(0,t.jsxs)(G.A,{sx:{width:"100%"},children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Choose a verification method:"}),(0,t.jsxs)(G.A,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(hs.A,{}),onClick:()=>j("authenticator"),disabled:d,children:"Authenticator App"}),(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(ps.A,{}),onClick:()=>j("sms"),disabled:d,children:"SMS Verification"}),(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(xs.A,{}),onClick:()=>j("email"),disabled:d,children:"Email Verification"})]}),x&&(0,t.jsxs)(G.A,{sx:{mt:3,textAlign:"center"},children:[(0,t.jsx)(k.A,{variant:"subtitle1",gutterBottom:!0,children:"Scan this QR code with your authenticator app:"}),(0,t.jsx)("img",{src:x,alt:"QR Code",style:{width:200,height:200}}),A&&(0,t.jsxs)(k.A,{variant:"body2",sx:{mt:2},children:["Manual entry code: ",(0,t.jsx)("code",{children:A})]})]})]})}),(0,t.jsx)(As,{value:i,index:2,children:(0,t.jsxs)(G.A,{sx:{width:"100%"},children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Need Help?"}),(0,t.jsx)(k.A,{variant:"body1",paragraph:!0,children:"Two-factor authentication adds an extra layer of security to your account. After entering your password, you'll need to provide a verification code from your chosen authentication method."}),(0,t.jsx)(k.A,{variant:"subtitle1",gutterBottom:!0,children:"Recommended authenticator apps:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:"Google Authenticator"}),(0,t.jsx)("li",{children:"Microsoft Authenticator"}),(0,t.jsx)("li",{children:"Authy"})]}),(0,t.jsxs)(k.A,{variant:"body2",sx:{mt:2},children:["Lost access to your authentication method?"," ",(0,t.jsx)(L.A,{href:"/help/mfa",underline:"hover",children:"Contact support"})]})]})}),(0,t.jsx)(G.A,{sx:{mt:3,width:"100%",textAlign:"center"},children:(0,t.jsx)(ss.A,{variant:"text",onClick:()=>e(-1),sx:{mt:2},children:"Go Back"})})]})})})};var js=n(8239),_s=n(7657),Ss=n(5956),ys=n(7458),Cs=n(6389),fs=n(6256),vs=n(5897);const Ps=({title:e,value:s,description:n,trend:a,trendLabel:i,progress:o,icon:l,color:c="primary"})=>{const d=(0,F.A)(),m=e=>e>0?d.palette.success.main:e<0?d.palette.error.main:d.palette.text.secondary;return(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsxs)(G.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:e}),(0,t.jsx)(k.A,{variant:"h4",component:"div",fontWeight:"bold",children:s})]}),l&&(0,t.jsx)(G.A,{sx:{backgroundColor:d.palette[c].light,borderRadius:"50%",p:1,display:"flex",alignItems:"center",justifyContent:"center"},children:r.cloneElement(l,{sx:{color:d.palette[c].main}})})]}),n&&(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",mb:1,children:[(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n}),n&&(0,t.jsx)(X.A,{title:n,children:(0,t.jsx)(J.A,{size:"small",children:(0,t.jsx)(vs.A,{fontSize:"small"})})})]}),"number"==typeof a&&(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",gap:1,mb:1,children:[(e=>e>0?(0,t.jsx)(Cs.A,{sx:{color:m(e)}}):e<0?(0,t.jsx)(fs.A,{sx:{color:m(e)}}):null)(a),(0,t.jsxs)(k.A,{variant:"body2",sx:{color:m(a)},children:[a>0?"+":"",a,"%"]}),i&&(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:i})]}),"number"==typeof o&&(0,t.jsxs)(G.A,{sx:{width:"100%",mt:2},children:[(0,t.jsx)(ys.A,{variant:"determinate",value:o,color:c,sx:{height:6,borderRadius:3,backgroundColor:d.palette[c].light,"& .MuiLinearProgress-bar":{borderRadius:3}}}),(0,t.jsxs)(k.A,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block",textAlign:"right"},children:[o,"% Complete"]})]})]})})};var Es=n(3650),bs=n(1795),Ds=n(399),Rs=n(2702);const Os=({title:e,subtitle:s,chart:n,height:a=300,onRefresh:i,onDownload:o,actions:l,loading:c})=>{const d=(0,F.A)(),[m,u]=r.useState(null),p=()=>{u(null)};return(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{title:(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(k.A,{variant:"h6",children:e}),c&&(0,t.jsx)(G.A,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:d.palette.primary.main,animation:"pulse 1.5s infinite"}})]}),subheader:s,action:(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",children:[l,(i||o)&&(0,t.jsx)(J.A,{size:"small",onClick:e=>{u(e.currentTarget)},"aria-label":"chart options",children:(0,t.jsx)(bs.A,{})}),(0,t.jsxs)(V.A,{anchorEl:m,open:Boolean(m),onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[i&&(0,t.jsxs)(q.A,{onClick:()=>{p(),i?.()},children:[(0,t.jsx)(Rs.A,{fontSize:"small",sx:{mr:1}}),"Refresh"]}),o&&(0,t.jsxs)(q.A,{onClick:()=>{p(),o?.()},children:[(0,t.jsx)(Ds.A,{fontSize:"small",sx:{mr:1}}),"Download"]})]})]})}),(0,t.jsx)(B.A,{}),(0,t.jsx)(Ke.A,{children:(0,t.jsx)(G.A,{sx:{height:a,width:"100%",opacity:c?.5:1,transition:"opacity 0.3s ease"},children:n})})]})};var Is=n(1471),Ts=n(4448),ws=n(1333),Ws=n(1746);const Ms=({activities:e,title:s="Recent Activities",showHeader:n=!0,maxItems:a=5,onSeeAll:i})=>{const o=(0,F.A)(),l=e=>{switch(e){case"assignment":return(0,t.jsx)(ce.A,{});case"payment":return(0,t.jsx)(le.A,{});case"exam":return(0,t.jsx)(re.A,{});case"event":default:return(0,t.jsx)(ws.A,{});case"attendance":return(0,t.jsx)(de.A,{});case"grade":return(0,t.jsx)(Ws.A,{});case"profile":return(0,t.jsx)(ke.A,{})}},c=e=>{switch(e){case"assignment":default:return o.palette.primary.main;case"payment":return o.palette.success.main;case"exam":return o.palette.error.main;case"event":return o.palette.info.main;case"attendance":return o.palette.warning.main;case"grade":return o.palette.secondary.main;case"profile":return o.palette.grey[500]}},d=e=>{switch(e?.toLowerCase()){case"completed":return"success";case"pending":return"warning";case"overdue":return"error";default:return"default"}},m=e=>{const s=new Date(e),n=(new Date).getTime()-s.getTime(),t=Math.floor(n/6e4),r=Math.floor(t/60),a=Math.floor(r/24);return t<60?`${t}m ago`:r<24?`${r}h ago`:1===a?"Yesterday":a<7?`${a}d ago`:s.toLocaleDateString()},u=a?e.slice(0,a):e;return(0,t.jsxs)(Be.A,{children:[n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Es.A,{title:s,action:(0,t.jsx)(J.A,{size:"small",children:(0,t.jsx)(bs.A,{})})}),(0,t.jsx)(B.A,{})]}),(0,t.jsxs)(Ke.A,{sx:{p:0},children:[(0,t.jsx)(Ne.A,{disablePadding:!0,children:u.map((e,s)=>(0,t.jsxs)(r.Fragment,{children:[(0,t.jsxs)(Te.Ay,{alignItems:"flex-start",sx:{px:2,py:1.5},children:[(0,t.jsx)(Is.A,{children:e.user?.avatar?(0,t.jsx)(H.A,{src:e.user.avatar}):(0,t.jsx)(H.A,{sx:{bgcolor:c(e.type)},children:l(e.type)})}),(0,t.jsx)(Me.A,{primary:(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(k.A,{variant:"subtitle2",children:e.title}),e.status&&(0,t.jsx)($.A,{label:e.status,size:"small",color:d(e.status)})]}),secondary:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.A,{component:"span",variant:"body2",color:"text.primary",children:e.user?.name&&`${e.user.name} - `}),(0,t.jsx)(k.A,{component:"span",variant:"body2",color:"text.secondary",children:e.description})]})}),(0,t.jsx)(Ts.A,{children:(0,t.jsx)(k.A,{variant:"caption",color:"text.secondary",children:m(e.timestamp)})})]}),s<u.length-1&&(0,t.jsx)(B.A,{component:"li"})]},e.id))}),i&&e.length>a&&(0,t.jsx)(G.A,{sx:{p:2,textAlign:"center"},children:(0,t.jsx)(ss.A,{onClick:i,size:"small",children:"See All Activities"})})]})]})},Fs=1250,Ns=5.2,Us="vs last month",ks="85%",Ls=-2.1,Vs="vs last week",Gs=85,Hs=45,$s=38,qs=84,Bs="$125,000",Ks=12.5,zs="vs last month",Js=75,Xs=[{id:"1",type:"assignment",title:"New Assignment Posted",description:"Mathematics Assignment 3 has been posted",timestamp:"2024-01-15T10:30:00Z",user:{name:"Prof. Smith"},status:"pending"},{id:"2",type:"payment",title:"Fee Payment Received",description:"Semester fee payment processed successfully",timestamp:"2024-01-15T09:15:00Z",status:"completed"},{id:"3",type:"exam",title:"Exam Results Published",description:"Mid-term examination results are now available",timestamp:"2024-01-14T15:45:00Z",status:"completed"},{id:"4",type:"attendance",title:"Attendance Updated",description:"Your attendance for today has been marked",timestamp:"2024-01-14T08:30:00Z",status:"completed"},{id:"5",type:"event",title:"New Event Scheduled",description:"Annual Sports Day scheduled for next month",timestamp:"2024-01-13T11:20:00Z",status:"upcoming"}],Ys=()=>{(0,F.A)();const{user:e}=Ie(),[s,n]=(0,r.useState)("This Month"),[a,i]=(0,r.useState)(null),o=e=>{e&&n(e),i(null)};return(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Dashboard"}),(0,t.jsxs)(k.A,{variant:"subtitle1",color:"text.secondary",children:["Welcome back, ",e?.first_name||"User"]})]}),(0,t.jsxs)(G.A,{display:"flex",alignItems:"center",gap:1,children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(Ss.A,{}),onClick:e=>{i(e.currentTarget)},children:s}),(0,t.jsxs)(V.A,{anchorEl:a,open:Boolean(a),onClose:()=>o(),children:[(0,t.jsx)(q.A,{onClick:()=>o("Today"),children:"Today"}),(0,t.jsx)(q.A,{onClick:()=>o("This Week"),children:"This Week"}),(0,t.jsx)(q.A,{onClick:()=>o("This Month"),children:"This Month"}),(0,t.jsx)(q.A,{onClick:()=>o("This Year"),children:"This Year"})]})]})]}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,mb:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Ps,{title:"Total Students",value:Fs,trend:Ns,trendLabel:Us,icon:(0,t.jsx)(ae.A,{}),color:"primary"})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Ps,{title:"Attendance Rate",value:ks,trend:Ls,trendLabel:Vs,progress:Gs,icon:(0,t.jsx)(_s.A,{}),color:"warning"})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Ps,{title:"Assignments",value:`${$s}/${Hs}`,description:"Completed assignments",progress:qs,icon:(0,t.jsx)(ce.A,{}),color:"success"})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Ps,{title:"Fees Collected",value:Bs,trend:Ks,trendLabel:zs,progress:Js,icon:(0,t.jsx)(le.A,{}),color:"info"})})]}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:8,children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Os,{title:"Academic Performance",subtitle:"Student performance across subjects",chart:(0,t.jsx)("div",{style:{height:300},children:"Chart placeholder"}),onRefresh:()=>console.log("Refreshing chart..."),onDownload:()=>console.log("Downloading chart...")})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Os,{title:"Attendance Trends",subtitle:"Daily attendance statistics",chart:(0,t.jsx)("div",{style:{height:300},children:"Chart placeholder"}),onRefresh:()=>console.log("Refreshing chart..."),onDownload:()=>console.log("Downloading chart...")})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Ms,{activities:Xs,title:"Recent Activities",onSeeAll:()=>console.log("Viewing all activities...")})})]})]})};var Zs=n(6798),Qs=n(4774),en=n(2325),sn=n(3198),nn=n(4137),tn=n(6627),rn=n(3884),an=n(9279),on=n(7037),ln=n(6831),cn=n(2477),dn=n(8763),mn=n(6718),un=n(4745),pn=n(8597),xn=n(7034),hn=n(2183);const An=()=>{const e=(0,F.A)(),s=(0,C.Zp)(),{hasPermission:n}=Ie(),[a,i]=(0,r.useState)([]),[o,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)({search:"",gender:"",category:"",active:""}),[p,x]=(0,r.useState)(1),[h,A]=(0,r.useState)(1),[g,j]=(0,r.useState)(null),[_,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{y()},[p,m]);const y=async()=>{try{l(!0),d(null);const e={page:p,limit:10,search:m.search||void 0,gender:m.gender||void 0,category:m.category||void 0,active:m.active||void 0},s=await _e(e);i(s.data||[]),A(s.pagination?.totalPages||1)}catch(e){d(e.message||"Failed to load students")}finally{l(!1)}},f=(e,s)=>{u(n=>({...n,[e]:s})),x(1)};return o&&0===a.length?(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h4",gutterBottom:!0,children:"Students"}),(0,t.jsx)(js.Ay,{container:!0,spacing:3,children:[...Array(5)].map((e,s)=>(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(en.A,{variant:"rectangular",height:60})},s))})]}):(0,t.jsxs)(G.A,{children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",children:"Students Management"}),n("manage","students")&&(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>s("/students/new"),children:"Add Student"})]}),(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(es.A,{fullWidth:!0,placeholder:"Search students...",value:m.search,onChange:e=>{u(s=>({...s,search:e.target.value})),x(1)},InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})}})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Gender"}),(0,t.jsxs)(Ze.A,{value:m.gender,label:"Gender",onChange:e=>f("gender",e.target.value),children:[(0,t.jsx)(q.A,{value:"",children:"All"}),(0,t.jsx)(q.A,{value:"m",children:"Male"}),(0,t.jsx)(q.A,{value:"f",children:"Female"}),(0,t.jsx)(q.A,{value:"o",children:"Other"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:m.active,label:"Status",onChange:e=>f("active",e.target.value),children:[(0,t.jsx)(q.A,{value:"",children:"All"}),(0,t.jsx)(q.A,{value:"true",children:"Active"}),(0,t.jsx)(q.A,{value:"false",children:"Inactive"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:()=>u({search:"",gender:"",category:"",active:""}),fullWidth:!0,children:"Clear Filters"})})]})})}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},onClose:()=>d(null),children:c}),(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsx)(sn.A,{component:ls.A,variant:"outlined",children:(0,t.jsxs)(nn.A,{children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Student"}),(0,t.jsx)(Qs.A,{children:"Gender"}),(0,t.jsx)(Qs.A,{children:"Birth Date"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:a.map(r=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center"},children:[(0,t.jsx)(H.A,{sx:{mr:2,bgcolor:e.palette.primary.main},children:r.first_name?.[0]||"S"}),(0,t.jsxs)(G.A,{children:[(0,t.jsxs)(k.A,{variant:"subtitle2",children:[r.first_name," ",r.last_name]}),(0,t.jsx)(k.A,{variant:"caption",color:"text.secondary",children:r.gr_no||"No GR No"})]})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:"m"===r.gender?"Male":"f"===r.gender?"Female":"Other",size:"small",color:"m"===r.gender?"primary":"f"===r.gender?"secondary":"default"})}),(0,t.jsx)(Qs.A,{children:r.birth_date?new Date(r.birth_date).toLocaleDateString():"N/A"}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:r.active?"Active":"Inactive",size:"small",color:r.active?"success":"error"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>s(`/students/${r.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),n("manage","students")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>s(`/students/${r.id}/edit`),color:"primary",children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>{j(r),S(!0)},color:"error",children:(0,t.jsx)(xn.A,{})})]})]})})]},r.id))})]})}),h>1&&(0,t.jsx)(G.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,t.jsx)(an.A,{count:h,page:p,onChange:(e,s)=>{x(s)},color:"primary"})})]})}),(0,t.jsxs)(on.A,{open:_,onClose:()=>S(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Student"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete ",g?.first_name," ",g?.last_name,"? This action cannot be undone."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>S(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(g)try{await(async e=>je.delete(`/students/${e}`))(g.id),S(!1),j(null),y()}catch(e){d(e.message||"Failed to delete student")}},color:"error",variant:"contained",children:"Delete"})]})]})]})};var gn=n(8864),jn=n(6379),_n=n(3147),Sn=n(5737),yn=n(274),Cn=n(9785);const fn=()=>{(0,F.A)();const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{hasPermission:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)([]),[p,x]=(0,r.useState)([]),[h,A]=(0,r.useState)([]),[g,j]=(0,r.useState)(null),_=Boolean(s),{control:S,handleSubmit:y,formState:{errors:f,isValid:v},setValue:P,watch:E,reset:b}=(0,Cn.mN)({mode:"onChange",defaultValues:{first_name:"",middle_name:"",last_name:"",birth_date:null,blood_group:"",gender:"m",nationality_id:void 0,emergency_contact_id:void 0,visa_info:"",id_number:"",gr_no:"",category_id:void 0,certificate_number:"",email:"",phone:"",active:!0}}),D=E("nationality_id");(0,r.useEffect)(()=>{R()},[s]),(0,r.useEffect)(()=>{D?O(D):x([])},[D]);const R=async()=>{try{i(!0),d(null);const[e,n]=await Promise.all([Pe(),be()]);if(u(e.data||[]),A(n.data||[]),_&&s){const e=(await(async e=>je.get(`/students/${e}`))(parseInt(s))).data;j(e),b({first_name:e.first_name||"",middle_name:e.middle_name||"",last_name:e.last_name||"",birth_date:e.birth_date?new Date(e.birth_date):null,blood_group:e.blood_group||"",gender:e.gender||"m",nationality_id:e.nationality_id||void 0,emergency_contact_id:e.emergency_contact_id||void 0,visa_info:e.visa_info||"",id_number:e.id_number||"",gr_no:e.gr_no||"",category_id:e.category_id||void 0,certificate_number:e.certificate_number||"",email:e.user?.email||"",phone:e.user?.phone||"",active:e.active??!0})}}catch(e){const s=e instanceof Error?e.message:"Failed to load form data";d(s)}finally{i(!1)}},O=async e=>{try{const s=await Ee(e);x(s.data||[])}catch(e){console.error("Failed to load states:",e)}};return a?(0,t.jsx)(G.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h4",gutterBottom:!0,children:_?"Edit Student":"Add New Student"}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},onClose:()=>d(null),children:c}),(0,t.jsxs)("form",{onSubmit:y(async n=>{try{l(!0),d(null);const t={...n,birth_date:n.birth_date?n.birth_date.toISOString():void 0};_&&s?await(async(e,s)=>je.put(`/students/${e}`,s))(parseInt(s),t):await(async e=>je.post("/students",e))(t),e("/students")}catch(e){const s=e instanceof Error?e.message:"Failed to save student";d(s)}finally{l(!1)}}),children:[(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Personal Information"}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"first_name",control:S,rules:{required:"First name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"First Name",error:!!f.first_name,helperText:f.first_name?.message,required:!0})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"middle_name",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Middle Name",error:!!f.middle_name,helperText:f.middle_name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"last_name",control:S,rules:{required:"Last name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Last Name",error:!!f.last_name,helperText:f.last_name?.message,required:!0})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"birth_date",control:S,render:({field:e})=>(0,t.jsx)(_n.l,{label:"Birth Date",value:e.value,onChange:s=>e.onChange(s),slotProps:{textField:{fullWidth:!0,error:!!f.birth_date,helperText:f.birth_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"gender",control:S,rules:{required:"Gender is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,required:!0,error:!!f.gender,children:[(0,t.jsx)(Ye.A,{children:"Gender"}),(0,t.jsxs)(Ze.A,{...e,label:"Gender",children:[(0,t.jsx)(q.A,{value:"m",children:"Male"}),(0,t.jsx)(q.A,{value:"f",children:"Female"}),(0,t.jsx)(q.A,{value:"o",children:"Other"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"blood_group",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Blood Group",error:!!f.blood_group,helperText:f.blood_group?.message})})})]}),(0,t.jsx)(B.A,{sx:{my:3}}),(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Contact Information"}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"email",control:S,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Email Address",type:"email",error:!!f.email,helperText:f.email?.message,required:!0})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"phone",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Phone Number",error:!!f.phone,helperText:f.phone?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"nationality_id",control:S,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.nationality_id,children:[(0,t.jsx)(Ye.A,{children:"Nationality"}),(0,t.jsxs)(Ze.A,{...e,label:"Nationality",children:[(0,t.jsx)(q.A,{value:"",children:"Select Nationality"}),m.map(e=>(0,t.jsx)(q.A,{value:e.id,children:e.name},e.id))]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"category_id",control:S,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.category_id,children:[(0,t.jsx)(Ye.A,{children:"Category"}),(0,t.jsxs)(Ze.A,{...e,label:"Category",children:[(0,t.jsx)(q.A,{value:"",children:"Select Category"}),h.map(e=>(0,t.jsx)(q.A,{value:e.id,children:e.name},e.id))]})]})})})]}),(0,t.jsx)(B.A,{sx:{my:3}}),(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Academic Information"}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"gr_no",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"GR Number",error:!!f.gr_no,helperText:f.gr_no?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"id_number",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"ID Number",error:!!f.id_number,helperText:f.id_number?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"certificate_number",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Certificate Number",error:!!f.certificate_number,helperText:f.certificate_number?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"visa_info",control:S,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Visa Information",error:!!f.visa_info,helperText:f.visa_info?.message})})})]}),(0,t.jsx)(B.A,{sx:{my:3}}),(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Status"}),(0,t.jsx)(js.Ay,{container:!0,spacing:3,children:(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"active",control:S,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{checked:Boolean(e.value),onChange:s=>e.onChange(s.target.checked)}),label:"Active Student"})})})})]})}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2,mt:3},children:[(0,t.jsx)(ss.A,{type:"submit",variant:"contained",disabled:!v||o,startIcon:o?(0,t.jsx)(ms.A,{size:20}):null,children:o?"Saving...":_?"Update Student":"Create Student"}),(0,t.jsx)(ss.A,{variant:"outlined",onClick:()=>{e("/students")},disabled:o,children:"Cancel"})]})]})]})})};var vn=n(3959);const Pn=()=>{const e=(0,C.Zp)(),{user:s}=Ie(),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(0),[u,p]=(0,r.useState)(10),[x,h]=(0,r.useState)(""),[A,g]=(0,r.useState)("all"),[j,_]=(0,r.useState)("all"),[S,y]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{P()},[d,u,x,A,j]);const P=async()=>{try{o(!0);const e=await Se.getFaculty({page:d+1,limit:u,search:x,status:"all"!==A?A:void 0,department:"all"!==j?j:void 0});a(e.data),c(null)}catch(e){c("Failed to load faculty data"),console.error("Error loading faculty:",e)}finally{o(!1)}},E=e=>{switch(e){case"active":return"success";case"inactive":case"terminated":return"error";case"on_leave":return"warning";default:return"default"}},b=e=>({computer_science:"#1976d2",mathematics:"#388e3c",physics:"#f57c00",chemistry:"#7b1fa2",biology:"#388e3c",english:"#d32f2f",history:"#5d4037",economics:"#1976d2",engineering:"#f57c00",medicine:"#d32f2f"}[e]||"#757575");return i&&0===n.length?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"Faculty Management"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>e("/faculty/new"),disabled:!s?.permissions?.includes("faculty.create"),children:"Add Faculty"})]}),l&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:l}),(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(es.A,{fullWidth:!0,label:"Search Faculty",value:x,onChange:e=>h(e.target.value),InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})},placeholder:"Search by name, email, or employee ID..."})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:A,label:"Status",onChange:e=>g(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Status"}),(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"}),(0,t.jsx)(q.A,{value:"on_leave",children:"On Leave"}),(0,t.jsx)(q.A,{value:"terminated",children:"Terminated"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Department"}),(0,t.jsxs)(Ze.A,{value:j,label:"Department",onChange:e=>_(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Departments"}),(0,t.jsx)(q.A,{value:"computer_science",children:"Computer Science"}),(0,t.jsx)(q.A,{value:"mathematics",children:"Mathematics"}),(0,t.jsx)(q.A,{value:"physics",children:"Physics"}),(0,t.jsx)(q.A,{value:"chemistry",children:"Chemistry"}),(0,t.jsx)(q.A,{value:"biology",children:"Biology"}),(0,t.jsx)(q.A,{value:"english",children:"English"}),(0,t.jsx)(q.A,{value:"history",children:"History"}),(0,t.jsx)(q.A,{value:"economics",children:"Economics"}),(0,t.jsx)(q.A,{value:"engineering",children:"Engineering"}),(0,t.jsx)(q.A,{value:"medicine",children:"Medicine"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsx)(ss.A,{fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:P,children:"Apply Filters"})})]})})}),(0,t.jsxs)(ls.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{stickyHeader:!0,children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Employee ID"}),(0,t.jsx)(Qs.A,{children:"Name"}),(0,t.jsx)(Qs.A,{children:"Email"}),(0,t.jsx)(Qs.A,{children:"Department"}),(0,t.jsx)(Qs.A,{children:"Position"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Join Date"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:n.map(n=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:n.employee_id||""}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsxs)(k.A,{variant:"body1",fontWeight:"medium",children:[n.first_name," ",n.last_name]}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.qualification||""})]})}),(0,t.jsx)(Qs.A,{children:n.email||""}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.departments?.[0]?.name||"Unknown".replace("_"," ").toUpperCase(),size:"small",sx:{backgroundColor:b(n.departments?.[0]?.name||"computer_science")+"20",color:b(n.departments?.[0]?.name||"computer_science"),fontWeight:"medium"}})}),(0,t.jsx)(Qs.A,{children:n.position||""}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.status||"active".replace("_"," ").toUpperCase(),color:E(n.status||"active"),size:"small"})}),(0,t.jsx)(Qs.A,{children:new Date(n.joining_date||"").toLocaleDateString()}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/faculty/${n.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/faculty/${n.id}/edit`),color:"primary",disabled:!s?.permissions?.includes("faculty.update"),children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>(e=>{v(e),y(!0)})(n),color:"error",disabled:!s?.permissions?.includes("faculty.delete"),children:(0,t.jsx)(xn.A,{})})]})})]},n.id))})]})}),(0,t.jsx)(vn.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:n.length,rowsPerPage:u,page:d,onPageChange:(e,s)=>m(s),onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),m(0)}})]}),(0,t.jsxs)(on.A,{open:S,onClose:()=>y(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Faculty Member"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete"," ",(0,t.jsxs)("strong",{children:[f?.first_name," ",f?.last_name]}),"? This action cannot be undone."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(f)try{await Se.deleteFaculty(f.id),a(n.filter(e=>e.id!==f.id)),y(!1),v(null)}catch(e){c("Failed to delete faculty member"),console.error("Error deleting faculty:",e)}},color:"error",variant:"contained",children:"Delete"})]})]})]})};var En=n(8984),bn=n(2299),Dn=n(9086),Rn=n(4944),On=n(6958);const In=()=>{const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{user:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),[p,x]=(0,r.useState)([]),[h,A]=(0,r.useState)([]),[g]=(0,r.useState)([{value:"computer_science",label:"Computer Science"},{value:"mathematics",label:"Mathematics"},{value:"physics",label:"Physics"},{value:"chemistry",label:"Chemistry"},{value:"biology",label:"Biology"},{value:"english",label:"English"},{value:"history",label:"History"},{value:"economics",label:"Economics"},{value:"engineering",label:"Engineering"},{value:"medicine",label:"Medicine"}]),{control:j,handleSubmit:_,reset:S,watch:y,setValue:f,formState:{errors:v,isDirty:P}}=(0,Cn.mN)({defaultValues:{employee_id:"",first_name:"",last_name:"",email:"",phone:"",date_of_birth:null,gender:"male",address:"",city:"",state:"",country:"",postal_code:"",department:"computer_science",position:"",qualification:"",specialization:"",join_date:null,salary:0,status:"active",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relationship:"",bio:""}}),E=y("country");(0,r.useEffect)(()=>{b()},[]),(0,r.useEffect)(()=>{E&&D(E)},[E]);const b=async()=>{try{i(!0);const e=await Pe();if(x(e.data),s&&"new"!==s){const e=(await Se.getFacultyById(parseInt(s,10))).data;u(e),S({employee_id:e.employee_id,first_name:e.first_name,last_name:e.last_name,email:e.email,phone:e.phone,date_of_birth:e.date_of_birth?new Date(e.date_of_birth):null,gender:e.gender,address:e.address,city:e.city,state:e.state,country:e.country,postal_code:e.postal_code,department:e.department,position:e.position,qualification:e.qualification,specialization:e.specialization,join_date:e.join_date?new Date(e.join_date):null,salary:e.salary,status:e.status,emergency_contact_name:e.emergency_contact_name,emergency_contact_phone:e.emergency_contact_phone,emergency_contact_relationship:e.emergency_contact_relationship,bio:e.bio,profile_picture:e.profile_picture})}}catch(e){d("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{i(!1)}},D=async e=>{try{const s=await Ee(parseInt(e));A(s.data)}catch(e){console.error("Error loading states:",e)}},R=async n=>{try{l(!0),d(null);const t={...n,date_of_birth:n.date_of_birth?.toISOString(),join_date:n.join_date?.toISOString()};s&&"new"!==s?await Se.updateFaculty(parseInt(s,10),t):await Se.createFaculty(t),e("/faculty")}catch(e){const s=e instanceof Error?e.message:"Failed to save faculty member";d(s),console.error("Error saving faculty:",e)}finally{l(!1)}};return a?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"new"===s?"Add New Faculty Member":"Edit Faculty Member"}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(bn.A,{}),onClick:()=>e("/faculty"),children:"Cancel"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(En.A,{}),onClick:_(R),disabled:o||!P,children:o?"Saving...":"Save"})]})]}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:c}),(0,t.jsx)("form",{onSubmit:_(R),children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Be.A,{children:(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(H.A,{sx:{width:80,height:80},children:(0,t.jsx)(ke.A,{})}),title:"Profile Picture",action:(0,t.jsx)(J.A,{children:(0,t.jsx)(Dn.A,{})})})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{icon:(0,t.jsx)(ke.A,{}),title:"Basic Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"employee_id",control:j,rules:{required:"Employee ID is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Employee ID",error:!!v.employee_id,helperText:v.employee_id?.message,disabled:"new"!==s})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"first_name",control:j,rules:{required:"First name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"First Name",error:!!v.first_name,helperText:v.first_name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"last_name",control:j,rules:{required:"Last name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Last Name",error:!!v.last_name,helperText:v.last_name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"email",control:j,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Email",type:"email",error:!!v.email,helperText:v.email?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"phone",control:j,rules:{required:"Phone number is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Phone Number",error:!!v.phone,helperText:v.phone?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"date_of_birth",control:j,rules:{required:"Date of birth is required"},render:({field:e})=>(0,t.jsx)(_n.l,{label:"Date of Birth",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!v.date_of_birth,helperText:v.date_of_birth?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"gender",control:j,rules:{required:"Gender is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!v.gender,children:[(0,t.jsx)(Ye.A,{children:"Gender"}),(0,t.jsxs)(Ze.A,{...e,label:"Gender",children:[(0,t.jsx)(q.A,{value:"male",children:"Male"}),(0,t.jsx)(q.A,{value:"female",children:"Female"}),(0,t.jsx)(q.A,{value:"other",children:"Other"})]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{icon:(0,t.jsx)(On.A,{}),title:"Contact Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"address",control:j,rules:{required:"Address is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Address",multiline:!0,rows:3,error:!!v.address,helperText:v.address?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"city",control:j,rules:{required:"City is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"City",error:!!v.city,helperText:v.city?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"state",control:j,rules:{required:"State is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!v.state,children:[(0,t.jsx)(Ye.A,{children:"State"}),(0,t.jsx)(Ze.A,{...e,label:"State",children:h.map(e=>(0,t.jsx)(q.A,{value:e.code,children:e.name},e.code))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"country",control:j,rules:{required:"Country is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!v.country,children:[(0,t.jsx)(Ye.A,{children:"Country"}),(0,t.jsx)(Ze.A,{...e,label:"Country",children:p.map(e=>(0,t.jsx)(q.A,{value:e.code,children:e.name},e.code))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"postal_code",control:j,rules:{required:"Postal code is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Postal Code",error:!!v.postal_code,helperText:v.postal_code?.message})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{icon:(0,t.jsx)(Rn.A,{}),title:"Professional Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"department",control:j,rules:{required:"Department is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!v.department,children:[(0,t.jsx)(Ye.A,{children:"Department"}),(0,t.jsx)(Ze.A,{...e,label:"Department",children:g.map(e=>(0,t.jsx)(q.A,{value:e.value,children:e.label},e.value))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"position",control:j,rules:{required:"Position is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Position",error:!!v.position,helperText:v.position?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"qualification",control:j,rules:{required:"Qualification is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Qualification",error:!!v.qualification,helperText:v.qualification?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"specialization",control:j,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Specialization",error:!!v.specialization,helperText:v.specialization?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"join_date",control:j,rules:{required:"Join date is required"},render:({field:e})=>(0,t.jsx)(_n.l,{label:"Join Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!v.join_date,helperText:v.join_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"salary",control:j,rules:{required:"Salary is required",min:{value:0,message:"Salary must be positive"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Salary",type:"number",error:!!v.salary,helperText:v.salary?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"status",control:j,rules:{required:"Status is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!v.status,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{...e,label:"Status",children:[(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"}),(0,t.jsx)(q.A,{value:"on_leave",children:"On Leave"}),(0,t.jsx)(q.A,{value:"terminated",children:"Terminated"})]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{icon:(0,t.jsx)(On.A,{}),title:"Emergency Contact"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"emergency_contact_name",control:j,rules:{required:"Emergency contact name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Emergency Contact Name",error:!!v.emergency_contact_name,helperText:v.emergency_contact_name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"emergency_contact_phone",control:j,rules:{required:"Emergency contact phone is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Emergency Contact Phone",error:!!v.emergency_contact_phone,helperText:v.emergency_contact_phone?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"emergency_contact_relationship",control:j,rules:{required:"Relationship is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Relationship",error:!!v.emergency_contact_relationship,helperText:v.emergency_contact_relationship?.message})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{icon:(0,t.jsx)(re.A,{}),title:"Biography"}),(0,t.jsx)(Ke.A,{children:(0,t.jsx)(Cn.xI,{name:"bio",control:j,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Biography",multiline:!0,rows:4,error:!!v.bio,helperText:v.bio?.message,placeholder:"Tell us about the faculty member's background, experience, and achievements..."})})})]})})]})})]})})},Tn=()=>{const e=(0,C.Zp)(),{user:s}=Ie(),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(0),[u,p]=(0,r.useState)(10),[x,h]=(0,r.useState)(""),[A,g]=(0,r.useState)("all"),[j,_]=(0,r.useState)("all"),[S,y]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{P()},[d,u,x,A,j]);const P=async()=>{try{o(!0);const e=await ye.getCourses({page:d+1,limit:u,search:x,status:"all"!==A?A:void 0,level:"all"!==j?j:void 0});a(e.data),c(null)}catch(e){c("Failed to load courses data"),console.error("Error loading courses:",e)}finally{o(!1)}},E=e=>{switch(e){case"active":return"success";case"inactive":return"error";case"completed":return"info";case"cancelled":return"warning";default:return"default"}},b=e=>({beginner:"#4caf50",intermediate:"#ff9800",advanced:"#f44336",expert:"#9c27b0"}[e]||"#757575");return i&&0===n.length?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"Course Management"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>e("/courses/new"),disabled:!s?.permissions?.includes("course.create"),children:"Add Course"})]}),l&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:l}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"primary.main"},children:(0,t.jsx)(re.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Courses"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"success.main"},children:(0,t.jsx)(ue.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.filter(e=>"active"===e.status).length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Active Courses"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"warning.main"},children:(0,t.jsx)(de.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.filter(e=>"inactive"===e.status).length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Draft Courses"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"info.main"},children:(0,t.jsx)(re.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.filter(e=>"completed"===e.status).length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Completed"})]})]})})})]}),(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(es.A,{fullWidth:!0,label:"Search Courses",value:x,onChange:e=>h(e.target.value),InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})},placeholder:"Search by course name, code, or description..."})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:A,label:"Status",onChange:e=>g(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Status"}),(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"}),(0,t.jsx)(q.A,{value:"completed",children:"Completed"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Level"}),(0,t.jsxs)(Ze.A,{value:j,label:"Level",onChange:e=>_(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Levels"}),(0,t.jsx)(q.A,{value:"beginner",children:"Beginner"}),(0,t.jsx)(q.A,{value:"intermediate",children:"Intermediate"}),(0,t.jsx)(q.A,{value:"advanced",children:"Advanced"}),(0,t.jsx)(q.A,{value:"expert",children:"Expert"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsx)(ss.A,{fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:P,children:"Apply Filters"})})]})})}),(0,t.jsxs)(ls.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{stickyHeader:!0,children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Course Code"}),(0,t.jsx)(Qs.A,{children:"Course Name"}),(0,t.jsx)(Qs.A,{children:"Department"}),(0,t.jsx)(Qs.A,{children:"Level"}),(0,t.jsx)(Qs.A,{children:"Credits"}),(0,t.jsx)(Qs.A,{children:"Duration"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Enrolled"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:n.map(n=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.code})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.name}),(0,t.jsxs)(k.A,{variant:"body2",color:"text.secondary",noWrap:!0,children:[n.description||""?.substring(0,50),"..."]})]})}),(0,t.jsx)(Qs.A,{children:n.department?.name||""}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.level||"beginner".toUpperCase(),size:"small",sx:{backgroundColor:b(n.level||"beginner")+"20",color:b(n.level||"beginner"),fontWeight:"medium"}})}),(0,t.jsx)(Qs.A,{children:n.credits||0}),(0,t.jsxs)(Qs.A,{children:[n.duration_hours||0,"h"]}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:(n.status||"active").toUpperCase(),color:E(n.status||"active"),size:"small"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(k.A,{variant:"body2",children:n.enrolled_students||0}),(0,t.jsxs)(k.A,{variant:"body2",color:"text.secondary",children:["/ ",n.max_students||""]})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/courses/${n.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/courses/${n.id}/edit`),color:"primary",disabled:!s?.permissions?.includes("course.update"),children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>(e=>{v(e),y(!0)})(n),color:"error",disabled:!s?.permissions?.includes("course.delete"),children:(0,t.jsx)(xn.A,{})})]})})]},n.id))})]})}),(0,t.jsx)(vn.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:n.length,rowsPerPage:u,page:d,onPageChange:(e,s)=>m(s),onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),m(0)}})]}),(0,t.jsxs)(on.A,{open:S,onClose:()=>y(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Course"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete the course"," ",(0,t.jsx)("strong",{children:f?.name}),"? This action cannot be undone and will affect all enrolled students."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>y(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(f)try{await ye.deleteCourse(f.id),a(n.filter(e=>e.id!==f.id)),y(!1),v(null)}catch(e){c("Failed to delete course"),console.error("Error deleting course:",e)}},color:"error",variant:"contained",children:"Delete"})]})]})]})},wn=()=>{const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{user:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),[p,x]=(0,r.useState)([]),[h,A]=(0,r.useState)([]),{control:g,handleSubmit:j,reset:_,watch:S,setValue:y,formState:{errors:f,isDirty:v}}=(0,Cn.mN)({defaultValues:{code:"",name:"",description:"",department_id:"",level:"beginner",credits:1,duration_hours:0,max_students:50,min_students:5,prerequisites:"",syllabus:"",objectives:"",status:"draft",start_date:null,end_date:null,instructor_id:"",is_elective:!1,is_practical:!1,practical_hours:0,theory_hours:0,fee:0}}),P=S("is_practical"),E=S("department_id");(0,r.useEffect)(()=>{b()},[]),(0,r.useEffect)(()=>{E&&D(E)},[E]);const b=async()=>{try{i(!0);const e=await Ce.getDepartments();x(e.data);const n=await Se.getCourses();if(A(n.data),s&&"new"!==s){const e=(await ye.getCourse(parseInt(s))).data;u(e),_({code:e.code,name:e.name,description:e.description,department_id:e.department_id,level:e.level,credits:e.credits,duration_hours:e.duration_hours,max_students:e.max_students,min_students:e.min_students,prerequisites:e.prerequisites||"",syllabus:e.syllabus||"",objectives:e.objectives||"",status:e.status,start_date:e.start_date?new Date(e.start_date):null,end_date:e.end_date?new Date(e.end_date):null,instructor_id:e.instructor_id||"",is_elective:e.is_elective||!1,is_practical:e.is_practical||!1,practical_hours:e.practical_hours||0,theory_hours:e.theory_hours||0,fee:e.fee||0})}}catch(e){d("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{i(!1)}},D=async e=>{try{const s=await Se.getFacultyByDepartment(parseInt(e));A(s.data)}catch(e){console.error("Error loading department faculty:",e)}},R=async n=>{try{l(!0),d(null);const t={...n,start_date:n.start_date?.toISOString(),end_date:n.end_date?.toISOString()};s&&"new"!==s?await ye.updateCourse(parseInt(s),t):await ye.createCourse(t),e("/courses")}catch(e){d(e.response?.data?.message||"Failed to save course"),console.error("Error saving course:",e)}finally{l(!1)}};return a?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"new"===s?"Add New Course":"Edit Course"}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(bn.A,{}),onClick:()=>e("/courses"),children:"Cancel"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(En.A,{}),onClick:j(R),disabled:o||!v,children:o?"Saving...":"Save"})]})]}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:c}),(0,t.jsx)("form",{onSubmit:j(R),children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(re.A,{}),title:"Basic Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"code",control:g,rules:{required:"Course code is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Course Code",error:!!f.code,helperText:f.code?.message,placeholder:"e.g., CS101"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"name",control:g,rules:{required:"Course name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Course Name",error:!!f.name,helperText:f.name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"description",control:g,rules:{required:"Description is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Description",multiline:!0,rows:3,error:!!f.description,helperText:f.description?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"department_id",control:g,rules:{required:"Department is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.department_id,children:[(0,t.jsx)(Ye.A,{children:"Department"}),(0,t.jsx)(Ze.A,{...e,label:"Department",children:p.map(e=>(0,t.jsx)(q.A,{value:e.id,children:e.name},e.id))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"level",control:g,rules:{required:"Level is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.level,children:[(0,t.jsx)(Ye.A,{children:"Level"}),(0,t.jsxs)(Ze.A,{...e,label:"Level",children:[(0,t.jsx)(q.A,{value:"beginner",children:"Beginner"}),(0,t.jsx)(q.A,{value:"intermediate",children:"Intermediate"}),(0,t.jsx)(q.A,{value:"advanced",children:"Advanced"}),(0,t.jsx)(q.A,{value:"expert",children:"Expert"})]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ce.A,{}),title:"Course Configuration"}),(0,t.jsxs)(Ke.A,{children:[(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"credits",control:g,rules:{required:"Credits is required",min:{value:1,message:"Minimum 1 credit"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Credits",type:"number",error:!!f.credits,helperText:f.credits?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"duration_hours",control:g,rules:{required:"Duration is required",min:{value:1,message:"Minimum 1 hour"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Total Duration (Hours)",type:"number",error:!!f.duration_hours,helperText:f.duration_hours?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"theory_hours",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Theory Hours",type:"number",error:!!f.theory_hours,helperText:f.theory_hours?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"practical_hours",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Practical Hours",type:"number",error:!!f.practical_hours,helperText:f.practical_hours?.message,disabled:!P})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"min_students",control:g,rules:{required:"Minimum students is required",min:{value:1,message:"Minimum 1 student"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Minimum Students",type:"number",error:!!f.min_students,helperText:f.min_students?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"max_students",control:g,rules:{required:"Maximum students is required",min:{value:1,message:"Minimum 1 student"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Maximum Students",type:"number",error:!!f.max_students,helperText:f.max_students?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"fee",control:g,rules:{min:{value:0,message:"Fee must be positive"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Course Fee",type:"number",error:!!f.fee,helperText:f.fee?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"status",control:g,rules:{required:"Status is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.status,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{...e,label:"Status",children:[(0,t.jsx)(q.A,{value:"draft",children:"Draft"}),(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"}),(0,t.jsx)(q.A,{value:"completed",children:"Completed"})]})]})})})]}),(0,t.jsx)(B.A,{sx:{my:2}}),(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"is_elective",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Elective Course"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"is_practical",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Has Practical Component"})})})]})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(de.A,{}),title:"Schedule & Instructor"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"start_date",control:g,render:({field:e})=>(0,t.jsx)(_n.l,{label:"Start Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!f.start_date,helperText:f.start_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"end_date",control:g,render:({field:e})=>(0,t.jsx)(_n.l,{label:"End Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!f.end_date,helperText:f.end_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"instructor_id",control:g,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.instructor_id,children:[(0,t.jsx)(Ye.A,{children:"Instructor"}),(0,t.jsxs)(Ze.A,{...e,label:"Instructor",children:[(0,t.jsx)(q.A,{value:"",children:"No Instructor Assigned"}),h.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.first_name," ",e.last_name," - ",e.departments?.[0]?.name||"No department"]},e.id))]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ue.A,{}),title:"Course Content"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"objectives",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Course Objectives",multiline:!0,rows:4,error:!!f.objectives,helperText:f.objectives?.message,placeholder:"List the main learning objectives for this course..."})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"syllabus",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Syllabus",multiline:!0,rows:6,error:!!f.syllabus,helperText:f.syllabus?.message,placeholder:"Provide detailed syllabus content..."})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"prerequisites",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Prerequisites",multiline:!0,rows:3,error:!!f.prerequisites,helperText:f.prerequisites?.message,placeholder:"List any prerequisite courses or knowledge required..."})})})]})})]})})]})})]})})};var Wn=n(8883);const Mn=()=>{const e=(0,C.Zp)(),{user:s}=Ie(),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(0),[u,p]=(0,r.useState)(10),[x,h]=(0,r.useState)(""),[A,g]=(0,r.useState)("all"),[j,_]=(0,r.useState)(!1),[S,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{f()},[d,u,x,A]);const f=async()=>{try{o(!0);const e=await Ce.getDepartments({page:d+1,limit:u,search:x,status:"all"!==A?A:void 0});a(e.data),c(null)}catch(e){c("Failed to load departments data"),console.error("Error loading departments:",e)}finally{o(!1)}},v=e=>{switch(e){case"active":return"success";case"inactive":return"error";default:return"default"}};return i&&0===n.length?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"Department Management"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>e("/departments/new"),disabled:!s?.permissions?.includes("department.create"),children:"Add Department"})]}),l&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:l}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"primary.main"},children:(0,t.jsx)(Wn.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Departments"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"success.main"},children:(0,t.jsx)(ue.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.filter(e=>"active"===e.status).length}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Active Departments"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"info.main"},children:(0,t.jsx)(ke.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.reduce((e,s)=>e+(s.total_faculty||0),0)}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Faculty"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"warning.main"},children:(0,t.jsx)(re.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:n.reduce((e,s)=>e+(s.total_courses||0),0)}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Courses"})]})]})})})]}),(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(es.A,{fullWidth:!0,label:"Search Departments",value:x,onChange:e=>h(e.target.value),InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})},placeholder:"Search by department name, code, or description..."})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:A,label:"Status",onChange:e=>g(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Status"}),(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(ss.A,{fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:f,children:"Apply Filters"})})]})})}),(0,t.jsxs)(ls.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{stickyHeader:!0,children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Code"}),(0,t.jsx)(Qs.A,{children:"Department Name"}),(0,t.jsx)(Qs.A,{children:"Head of Department"}),(0,t.jsx)(Qs.A,{children:"Faculty Count"}),(0,t.jsx)(Qs.A,{children:"Course Count"}),(0,t.jsx)(Qs.A,{children:"Student Count"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Established"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:n.map(n=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.code})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.name}),(0,t.jsxs)(k.A,{variant:"body2",color:"text.secondary",noWrap:!0,children:[n.description||""?.substring(0,50),"..."]})]})}),(0,t.jsx)(Qs.A,{children:n.head_name?(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body2",fontWeight:"medium",children:n.head_name||""}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.head_email||""})]}):(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Not Assigned"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.total_faculty||0,size:"small",color:"primary",variant:"outlined"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.total_courses||0,size:"small",color:"secondary",variant:"outlined"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.total_students||0,size:"small",color:"info",variant:"outlined"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.status||"active".toUpperCase(),color:v(n.status||"active"),size:"small"})}),(0,t.jsx)(Qs.A,{children:n.established_date?new Date(n.established_date||"").getFullYear():"N/A"}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/departments/${n.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/departments/${n.id}/edit`),color:"primary",disabled:!s?.permissions?.includes("department.update"),children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>(e=>{y(e),_(!0)})(n),color:"error",disabled:!s?.permissions?.includes("department.delete"),children:(0,t.jsx)(xn.A,{})})]})})]},n.id))})]})}),(0,t.jsx)(vn.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:n.length,rowsPerPage:u,page:d,onPageChange:(e,s)=>m(s),onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),m(0)}})]}),(0,t.jsxs)(on.A,{open:j,onClose:()=>_(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Department"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete the department"," ",(0,t.jsx)("strong",{children:S?.name}),"? This action cannot be undone and will affect all associated faculty, courses, and students."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>_(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(S)try{await Ce.deleteDepartment(S.id),a(n.filter(e=>e.id!==S.id)),_(!1),y(null)}catch(e){c("Failed to delete department"),console.error("Error deleting department:",e)}},color:"error",variant:"contained",children:"Delete"})]})]})]})},Fn=()=>{const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{user:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),[p,x]=(0,r.useState)([]),{control:h,handleSubmit:A,reset:g,formState:{errors:j,isDirty:_}}=(0,Cn.mN)({defaultValues:{code:"",name:"",description:"",head_id:"",status:"active",established_date:null,budget:0,location:"",phone:"",email:"",vision:"",mission:"",objectives:""}});(0,r.useEffect)(()=>{S()},[]);const S=async()=>{try{i(!0);const e=await Se.getFaculty();if(x(e.data),s&&"new"!==s){const e=(await Ce.getDepartment(parseInt(s))).data;u(e),g({code:e.code,name:e.name,description:e.description,head_id:e.head_id||"",status:e.status,established_date:e.established_date?new Date(e.established_date):null,budget:e.budget||0,location:e.location||"",phone:e.phone||"",email:e.email||"",vision:e.vision||"",mission:e.mission||"",objectives:e.objectives||""})}}catch(e){d("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{i(!1)}},y=async n=>{try{l(!0),d(null);const t={...n,established_date:n.established_date?.toISOString()};s&&"new"!==s?await Ce.updateDepartment(parseInt(s),t):await Ce.createDepartment(t),e("/departments")}catch(e){d(e.response?.data?.message||"Failed to save department"),console.error("Error saving department:",e)}finally{l(!1)}};return a?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"new"===s?"Add New Department":"Edit Department"}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(bn.A,{}),onClick:()=>e("/departments"),children:"Cancel"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(En.A,{}),onClick:A(y),disabled:o||!_,children:o?"Saving...":"Save"})]})]}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:c}),(0,t.jsx)("form",{onSubmit:A(y),children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(Wn.A,{}),title:"Basic Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"code",control:h,rules:{required:"Department code is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Department Code",error:!!j.code,helperText:j.code?.message,placeholder:"e.g., CSE, EEE, MECH"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"name",control:h,rules:{required:"Department name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Department Name",error:!!j.name,helperText:j.name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"description",control:h,rules:{required:"Description is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Description",multiline:!0,rows:3,error:!!j.description,helperText:j.description?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"head_id",control:h,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!j.head_id,children:[(0,t.jsx)(Ye.A,{children:"Head of Department"}),(0,t.jsxs)(Ze.A,{...e,label:"Head of Department",children:[(0,t.jsx)(q.A,{value:"",children:"No Head Assigned"}),p.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.first_name," ",e.last_name," - ",e.position||""]},e.id))]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"status",control:h,rules:{required:"Status is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!j.status,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{...e,label:"Status",children:[(0,t.jsx)(q.A,{value:"active",children:"Active"}),(0,t.jsx)(q.A,{value:"inactive",children:"Inactive"})]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ke.A,{}),title:"Contact & Location"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"location",control:h,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Location",error:!!j.location,helperText:j.location?.message,placeholder:"Building, Floor, Room"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"phone",control:h,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Phone Number",error:!!j.phone,helperText:j.phone?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"email",control:h,rules:{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Email",type:"email",error:!!j.email,helperText:j.email?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"established_date",control:h,render:({field:e})=>(0,t.jsx)(_n.l,{label:"Established Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!j.established_date,helperText:j.established_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"budget",control:h,rules:{min:{value:0,message:"Budget must be positive"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Annual Budget",type:"number",error:!!j.budget,helperText:j.budget?.message,InputProps:{startAdornment:(0,t.jsx)(k.A,{sx:{mr:1},children:"$"})}})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(re.A,{}),title:"Vision, Mission & Objectives"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"vision",control:h,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Vision",multiline:!0,rows:3,error:!!j.vision,helperText:j.vision?.message,placeholder:"Department's vision statement..."})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"mission",control:h,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Mission",multiline:!0,rows:4,error:!!j.mission,helperText:j.mission?.message,placeholder:"Department's mission statement..."})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"objectives",control:h,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Objectives",multiline:!0,rows:5,error:!!j.objectives,helperText:j.objectives?.message,placeholder:"List the main objectives and goals of the department..."})})})]})})]})})]})})]})})};var Nn=n(889),Un=n(3794);function kn(e){const{children:s,value:n,index:r,...a}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:n!==r,id:`attendance-tabpanel-${r}`,"aria-labelledby":`attendance-tab-${r}`,...a,children:n===r&&(0,t.jsx)(G.A,{sx:{p:3},children:s})})}const Ln=()=>{const e=(0,C.Zp)(),{user:s}=Ie(),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[x,h]=(0,r.useState)(0),[A,g]=(0,r.useState)(10),[j,_]=(0,r.useState)(""),[S,y]=(0,r.useState)("all"),[f,v]=(0,r.useState)("all"),[P,E]=(0,r.useState)(new Date),[b,D]=(0,r.useState)(0),[R,O]=(0,r.useState)(!1),[I,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{W()},[x,A,j,S,f,P,b]);const w=async()=>{try{m(!0);const[e,s]=await Promise.all([ye.getCourses(),_e()]);o(e.data),c(s.data)}catch(e){p("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{m(!1)}},W=async()=>{try{m(!0);const e=await fe.getAttendanceRegisters({page:x+1,limit:A,search:j,status:"all"!==S?S:void 0,course_id:"all"!==f?f:void 0,date:P?.toISOString().split("T")[0],type:0===b?"daily":1===b?"class":void 0});a(e.data),p(null)}catch(e){p("Failed to load attendance data"),console.error("Error loading attendance:",e)}finally{m(!1)}},M=e=>{switch(e){case"present":return"success";case"absent":return"error";case"late":return"warning";case"excused":return"info";default:return"default"}},F=e=>{switch(e){case"present":return(0,t.jsx)(Nn.A,{});case"absent":return(0,t.jsx)(bn.A,{});case"late":return(0,t.jsx)(de.A,{});case"excused":return(0,t.jsx)(Un.A,{});default:return(0,t.jsx)(ke.A,{})}},N={total:n.length,present:n.filter(e=>"present"===e.status).length,absent:n.filter(e=>"absent"===e.status).length,late:n.filter(e=>"late"===e.status).length,excused:n.filter(e=>"excused"===e.status).length};return d&&0===n.length?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"Attendance Management"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>e("/attendance/new"),disabled:!s?.permissions?.includes("attendance.create"),children:"Mark Attendance"})]}),u&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:u}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"primary.main"},children:(0,t.jsx)(ue.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.total}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Records"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"success.main"},children:(0,t.jsx)(Nn.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.present}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Present"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"error.main"},children:(0,t.jsx)(bn.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.absent}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Absent"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"warning.main"},children:(0,t.jsx)(de.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.late}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Late"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"info.main"},children:(0,t.jsx)(Un.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.excused}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Excused"})]})]})})})]}),(0,t.jsx)(ls.A,{sx:{mb:3},children:(0,t.jsxs)(cs.A,{value:b,onChange:(e,s)=>D(s),children:[(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:N.total,color:"primary",children:"Daily Attendance"})}),(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:n.filter(e=>e.class_id).length,color:"secondary",children:"Class Attendance"})}),(0,t.jsx)(ds.A,{label:"Reports"})]})}),(0,t.jsxs)(kn,{value:b,index:0,children:[(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(es.A,{fullWidth:!0,label:"Search Students",value:j,onChange:e=>_(e.target.value),InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})},placeholder:"Search by student name or ID..."})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsx)(_n.l,{label:"Date",value:P,onChange:E,slotProps:{textField:{fullWidth:!0}}})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:S,label:"Status",onChange:e=>y(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Status"}),(0,t.jsx)(q.A,{value:"present",children:"Present"}),(0,t.jsx)(q.A,{value:"absent",children:"Absent"}),(0,t.jsx)(q.A,{value:"late",children:"Late"}),(0,t.jsx)(q.A,{value:"excused",children:"Excused"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Course"}),(0,t.jsxs)(Ze.A,{value:f,label:"Course",onChange:e=>v(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Courses"}),i.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.code," - ",e.name]},e.id))]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsx)(ss.A,{fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:W,children:"Apply"})})]})})}),(0,t.jsxs)(ls.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{stickyHeader:!0,children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Student"}),(0,t.jsx)(Qs.A,{children:"Course"}),(0,t.jsx)(Qs.A,{children:"Date"}),(0,t.jsx)(Qs.A,{children:"Time In"}),(0,t.jsx)(Qs.A,{children:"Time Out"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Remarks"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:n.map(n=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.student_name}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.student_id})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body2",fontWeight:"medium",children:n.course_code}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.course_name})]})}),(0,t.jsx)(Qs.A,{children:new Date(n.date).toLocaleDateString()}),(0,t.jsx)(Qs.A,{children:n.time_in?new Date(n.time_in).toLocaleTimeString():"-"}),(0,t.jsx)(Qs.A,{children:n.time_out?new Date(n.time_out).toLocaleTimeString():"-"}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{icon:F(n.status),label:n.status.toUpperCase(),color:M(n.status),size:"small"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)(k.A,{variant:"body2",noWrap:!0,children:n.remarks||"-"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/attendance/${n.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/attendance/${n.id}/edit`),color:"primary",disabled:!s?.permissions?.includes("attendance.update"),children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>(e=>{T(e),O(!0)})(n),color:"error",disabled:!s?.permissions?.includes("attendance.delete"),children:(0,t.jsx)(xn.A,{})})]})})]},n.id))})]})}),(0,t.jsx)(vn.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:n.length,rowsPerPage:A,page:x,onPageChange:(e,s)=>h(s),onRowsPerPageChange:e=>{g(parseInt(e.target.value,10)),h(0)}})]})]}),(0,t.jsxs)(kn,{value:b,index:1,children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Class-wise Attendance"}),(0,t.jsx)(Je.A,{severity:"info",sx:{mb:2},children:"Class attendance tracking for specific courses and sessions."})]}),(0,t.jsxs)(kn,{value:b,index:2,children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Attendance Reports"}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Monthly Report"}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Generate monthly attendance reports for students and courses."}),(0,t.jsx)(ss.A,{variant:"outlined",fullWidth:!0,children:"Generate Report"})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Student Report"}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Individual student attendance analysis and trends."}),(0,t.jsx)(ss.A,{variant:"outlined",fullWidth:!0,children:"View Reports"})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Course Report"}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:"Course-wise attendance statistics and patterns."}),(0,t.jsx)(ss.A,{variant:"outlined",fullWidth:!0,children:"View Reports"})]})})})]})]}),(0,t.jsxs)(on.A,{open:R,onClose:()=>O(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Attendance Record"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete this attendance record for"," ",(0,t.jsx)("strong",{children:I?.student_name}),"? This action cannot be undone."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(I)try{await fe.deleteAttendanceSheet(I.id),a(n.filter(e=>e.id!==I.id)),O(!1),T(null)}catch(e){p("Failed to delete attendance record"),console.error("Error deleting attendance:",e)}},color:"error",variant:"contained",children:"Delete"})]})]})]})})};var Vn=n(9332),Gn=n(8796);const Hn=()=>{const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{user:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)([]),[p,x]=(0,r.useState)([]),[h,A]=(0,r.useState)([]),[g,j]=(0,r.useState)([]),[_,S]=(0,r.useState)("present"),[y,f]=(0,r.useState)(!1),{control:v,handleSubmit:P,reset:E,watch:b,setValue:D,formState:{errors:R,isDirty:O}}=(0,Cn.mN)({defaultValues:{date:new Date,course_id:"",class_id:"",type:"daily",remarks:"",students:[]}}),I=b("course_id"),T=b("type");(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{I&&(W(I),"class"===T&&M(I))},[I,T]);const w=async()=>{try{i(!0);const[e,n]=await Promise.all([ye.getCourses(),ye.getCourses()]);if(u(e.data),x(n.data),s&&"new"!==s){const e=(await fe.getAttendanceSheet(parseInt(s))).data;E({date:e.date?new Date(e.date):new Date,course_id:e.course_id||"",class_id:e.class_id||"",type:e.type||"daily",remarks:e.remarks||"",students:e.students||[]})}}catch(e){d("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{i(!1)}},W=async e=>{try{const s=(await(async(e,s)=>je.get(`/students/course/${e}`,{params:{batch_id:s}}))(parseInt(e))).data.map(e=>({student_id:e.id,student_name:`${e.first_name} ${e.last_name}`,student_number:e.student_id||e.id,status:"present",time_in:new Date,time_out:null,remarks:""}));j(s),D("students",s)}catch(e){console.error("Error loading course students:",e)}},M=async e=>{try{const s=await(async e=>je.get(`/classes/course/${e}`))(e);A(s.data)}catch(e){console.error("Error loading course classes:",e)}},F=e=>{switch(e){case"present":return"success";case"absent":return"error";case"late":return"warning";case"excused":return"info";default:return"default"}},N=e=>{switch(e){case"present":return(0,t.jsx)(Nn.A,{});case"absent":return(0,t.jsx)(bn.A,{});case"late":return(0,t.jsx)(de.A,{});case"excused":return(0,t.jsx)(Un.A,{});default:return null}},U=async n=>{try{l(!0),d(null);const t={...n,date:n.date?.toISOString().split("T")[0],students:n.students.map(e=>({...e,time_in:e.time_in?.toISOString(),time_out:e.time_out?.toISOString()}))};s&&"new"!==s?await fe.update(parseInt(s),t):await fe.createAttendanceSheet(t),e("/attendance")}catch(e){d(e.response?.data?.message||"Failed to save attendance"),console.error("Error saving attendance:",e)}finally{l(!1)}};return a?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"new"===s?"Mark Attendance":"Edit Attendance"}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(bn.A,{}),onClick:()=>e("/attendance"),children:"Cancel"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(En.A,{}),onClick:P(U),disabled:o||!O,children:o?"Saving...":"Save Attendance"})]})]}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:c}),(0,t.jsx)("form",{onSubmit:P(U),children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(Vn.A,{}),title:"Attendance Details"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"date",control:v,rules:{required:"Date is required"},render:({field:e})=>(0,t.jsx)(_n.l,{label:"Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!R.date,helperText:R.date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"type",control:v,rules:{required:"Type is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!R.type,children:[(0,t.jsx)(Ye.A,{children:"Attendance Type"}),(0,t.jsxs)(Ze.A,{...e,label:"Attendance Type",children:[(0,t.jsx)(q.A,{value:"daily",children:"Daily Attendance"}),(0,t.jsx)(q.A,{value:"class",children:"Class Attendance"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"course_id",control:v,rules:{required:"Course is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!R.course_id,children:[(0,t.jsx)(Ye.A,{children:"Course"}),(0,t.jsx)(Ze.A,{...e,label:"Course",children:m.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.code," - ",e.name]},e.id))})]})})}),"class"===T&&(0,t.jsx)(js.Ay,{item:!0,xs:12,md:3,children:(0,t.jsx)(Cn.xI,{name:"class_id",control:v,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!R.class_id,children:[(0,t.jsx)(Ye.A,{children:"Class Session"}),(0,t.jsx)(Ze.A,{...e,label:"Class Session",children:h.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.name," - ",e.schedule]},e.id))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"remarks",control:v,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"General Remarks",multiline:!0,rows:2,error:!!R.remarks,helperText:R.remarks?.message,placeholder:"Any general notes about this attendance session..."})})})]})})]})}),g.length>0&&(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ue.A,{}),title:"Student Attendance",action:(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{checked:y,onChange:e=>f(e.target.checked)}),label:"Bulk Mode"})}),(0,t.jsxs)(Ke.A,{children:[y&&(0,t.jsxs)(G.A,{sx:{mb:2},children:[(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Bulk Status"}),(0,t.jsxs)(Ze.A,{value:_,label:"Bulk Status",onChange:e=>S(e.target.value),children:[(0,t.jsx)(q.A,{value:"present",children:"Present"}),(0,t.jsx)(q.A,{value:"absent",children:"Absent"}),(0,t.jsx)(q.A,{value:"late",children:"Late"}),(0,t.jsx)(q.A,{value:"excused",children:"Excused"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(ss.A,{variant:"outlined",onClick:()=>{const e=g.map(e=>({...e,status:_,time_in:"present"===_||"late"===_?new Date:e.time_in}));j(e),D("students",e)},fullWidth:!0,children:"Apply to All Students"})})]}),(0,t.jsx)(B.A,{sx:{my:2}})]}),(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Student"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Time In"}),(0,t.jsx)(Qs.A,{children:"Time Out"}),(0,t.jsx)(Qs.A,{children:"Remarks"})]})}),(0,t.jsx)(rn.A,{children:g.map((e,s)=>(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:e.student_name}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:e.student_number})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)(Xe.A,{size:"small",sx:{minWidth:120},children:(0,t.jsxs)(Ze.A,{value:e.status,onChange:e=>((e,s)=>{const n=[...g];n[e].status=s,"present"!==s&&"late"!==s||(n[e].time_in=new Date),j(n),D("students",n)})(s,e.target.value),renderValue:e=>(0,t.jsx)($.A,{icon:N(e)||void 0,label:e.toUpperCase(),color:F(e),size:"small"}),children:[(0,t.jsx)(q.A,{value:"present",children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(Nn.A,{color:"success"}),"Present"]})}),(0,t.jsx)(q.A,{value:"absent",children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(bn.A,{color:"error"}),"Absent"]})}),(0,t.jsx)(q.A,{value:"late",children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(de.A,{color:"warning"}),"Late"]})}),(0,t.jsx)(q.A,{value:"excused",children:(0,t.jsxs)(G.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,t.jsx)(Un.A,{color:"info"}),"Excused"]})})]})})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)(Gn.A,{label:"Time In",value:e.time_in,onChange:e=>{const n=[...g];n[s].time_in=e,j(n),D("students",n)},slotProps:{textField:{size:"small",disabled:"absent"===e.status}}})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)(Gn.A,{label:"Time Out",value:e.time_out,onChange:e=>{const n=[...g];n[s].time_out=e,j(n),D("students",n)},slotProps:{textField:{size:"small",disabled:"absent"===e.status}}})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)(es.A,{size:"small",placeholder:"Remarks...",value:e.remarks,onChange:e=>{const n=[...g];n[s].remarks=e.target.value,j(n),D("students",n)}})})]},e.student_id))})]})})]})]})})]})})]})})};function $n(e){const{children:s,value:n,index:r,...a}=e;return(0,t.jsx)("div",{role:"tabpanel",hidden:n!==r,id:`exam-tabpanel-${r}`,"aria-labelledby":`exam-tab-${r}`,...a,children:n===r&&(0,t.jsx)(G.A,{sx:{p:3},children:s})})}const qn=()=>{const e=(0,C.Zp)(),{user:s}=Ie(),[n,a]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(null),[u,p]=(0,r.useState)(0),[x,h]=(0,r.useState)(10),[A,g]=(0,r.useState)(""),[j,_]=(0,r.useState)("all"),[S,y]=(0,r.useState)("all"),[f,v]=(0,r.useState)("all"),[P,E]=(0,r.useState)(null),[b,D]=(0,r.useState)(0),[R,O]=(0,r.useState)(!1),[I,T]=(0,r.useState)(null);(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{W()},[u,x,A,j,S,f,P,b]);const w=async()=>{try{c(!0);const e=await ye.getCourses();o(e.data)}catch(e){m("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{c(!1)}},W=async()=>{try{c(!0);const e=await ve.getExamSessions({page:u+1,limit:x,search:A,status:"all"!==j?j:void 0,type:"all"!==S?S:void 0,course_id:"all"!==f?f:void 0,date:P?.toISOString().split("T")[0]});a(e.data),m(null)}catch(e){m("Failed to load exams data"),console.error("Error loading exams:",e)}finally{c(!1)}},M=e=>{switch(e){case"scheduled":return"info";case"ongoing":return"warning";case"completed":return"success";case"cancelled":return"error";default:return"default"}},F=e=>({midterm:"#1976d2",final:"#d32f2f",quiz:"#388e3c",assignment:"#f57c00",practical:"#7b1fa2",viva:"#00796b"}[e]||"#757575"),N={total:n.length,scheduled:n.filter(e=>"scheduled"===e.status).length,ongoing:n.filter(e=>"ongoing"===e.status).length,completed:n.filter(e=>"completed"===e.status).length,cancelled:n.filter(e=>"cancelled"===e.status).length};return l&&0===n.length?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"Exam Management"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(mn.A,{}),onClick:()=>e("/exams/new"),disabled:!s?.permissions?.includes("exam.create"),children:"Schedule Exam"})]}),d&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:d}),(0,t.jsxs)(js.Ay,{container:!0,spacing:3,sx:{mb:3},children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"primary.main"},children:(0,t.jsx)(ce.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.total}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Total Exams"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"info.main"},children:(0,t.jsx)(de.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.scheduled}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Scheduled"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"warning.main"},children:(0,t.jsx)(ie.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.ongoing}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Ongoing"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"success.main"},children:(0,t.jsx)(Ws.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.completed}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Completed"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,sm:6,md:2.4,children:(0,t.jsx)(Be.A,{children:(0,t.jsxs)(Ke.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,t.jsx)(H.A,{sx:{bgcolor:"error.main"},children:(0,t.jsx)(ce.A,{})}),(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"h6",children:N.cancelled}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:"Cancelled"})]})]})})})]}),(0,t.jsx)(ls.A,{sx:{mb:3},children:(0,t.jsxs)(cs.A,{value:b,onChange:(e,s)=>D(s),children:[(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:N.total,color:"primary",children:"All Exams"})}),(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:N.scheduled,color:"info",children:"Scheduled"})}),(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:N.ongoing,color:"warning",children:"Ongoing"})}),(0,t.jsx)(ds.A,{label:(0,t.jsx)(Y.A,{badgeContent:N.completed,color:"success",children:"Completed"})})]})}),(0,t.jsxs)($n,{value:b,index:0,children:[(0,t.jsx)(Be.A,{sx:{mb:3},children:(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,alignItems:"center",children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2.5,children:(0,t.jsx)(es.A,{fullWidth:!0,label:"Search Exams",value:A,onChange:e=>g(e.target.value),InputProps:{startAdornment:(0,t.jsx)(un.A,{sx:{mr:1,color:"text.secondary"}})},placeholder:"Search by exam name or code..."})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{value:j,label:"Status",onChange:e=>_(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Status"}),(0,t.jsx)(q.A,{value:"draft",children:"Draft"}),(0,t.jsx)(q.A,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(q.A,{value:"ongoing",children:"Ongoing"}),(0,t.jsx)(q.A,{value:"completed",children:"Completed"}),(0,t.jsx)(q.A,{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Type"}),(0,t.jsxs)(Ze.A,{value:S,label:"Type",onChange:e=>y(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Types"}),(0,t.jsx)(q.A,{value:"midterm",children:"Midterm"}),(0,t.jsx)(q.A,{value:"final",children:"Final"}),(0,t.jsx)(q.A,{value:"quiz",children:"Quiz"}),(0,t.jsx)(q.A,{value:"assignment",children:"Assignment"}),(0,t.jsx)(q.A,{value:"practical",children:"Practical"}),(0,t.jsx)(q.A,{value:"viva",children:"Viva"})]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:2.5,children:(0,t.jsxs)(Xe.A,{fullWidth:!0,children:[(0,t.jsx)(Ye.A,{children:"Course"}),(0,t.jsxs)(Ze.A,{value:f,label:"Course",onChange:e=>v(e.target.value),children:[(0,t.jsx)(q.A,{value:"all",children:"All Courses"}),i.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.code," - ",e.name]},e.id))]})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:1.5,children:(0,t.jsx)(_n.l,{label:"Date",value:P,onChange:E,slotProps:{textField:{fullWidth:!0,size:"small"}}})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:1.5,children:(0,t.jsx)(ss.A,{fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(hn.A,{}),onClick:W,children:"Apply"})})]})})}),(0,t.jsxs)(ls.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,t.jsx)(sn.A,{children:(0,t.jsxs)(nn.A,{stickyHeader:!0,children:[(0,t.jsx)(tn.A,{children:(0,t.jsxs)(Zs.A,{children:[(0,t.jsx)(Qs.A,{children:"Exam"}),(0,t.jsx)(Qs.A,{children:"Course"}),(0,t.jsx)(Qs.A,{children:"Type"}),(0,t.jsx)(Qs.A,{children:"Date & Time"}),(0,t.jsx)(Qs.A,{children:"Duration"}),(0,t.jsx)(Qs.A,{children:"Total Marks"}),(0,t.jsx)(Qs.A,{children:"Students"}),(0,t.jsx)(Qs.A,{children:"Status"}),(0,t.jsx)(Qs.A,{children:"Actions"})]})}),(0,t.jsx)(rn.A,{children:n.map(n=>(0,t.jsxs)(Zs.A,{hover:!0,children:[(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body1",fontWeight:"medium",children:n.name}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.code||""})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body2",fontWeight:"medium",children:n.course_code||""}),(0,t.jsx)(k.A,{variant:"body2",color:"text.secondary",children:n.course_name||""})]})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:String(n.type||"midterm").toUpperCase(),size:"small",sx:{backgroundColor:F(String(n.type||"midterm"))+"20",color:F(String(n.type||"midterm")),fontWeight:"medium"}})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{children:[(0,t.jsx)(k.A,{variant:"body2",fontWeight:"medium",children:new Date(n.exam_date||"").toLocaleDateString()}),(0,t.jsxs)(k.A,{variant:"body2",color:"text.secondary",children:[n.start_time," - ",n.end_time]})]})}),(0,t.jsxs)(Qs.A,{children:[n.duration||0," min"]}),(0,t.jsx)(Qs.A,{children:n.total_marks}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.enrolled_students||0,size:"small",color:"primary",variant:"outlined"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsx)($.A,{label:n.status||"scheduled".toUpperCase(),color:M(n.status||"scheduled"),size:"small"})}),(0,t.jsx)(Qs.A,{children:(0,t.jsxs)(G.A,{sx:{display:"flex",gap:1},children:[(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/exams/${n.id}`),color:"primary",children:(0,t.jsx)(ns.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>e(`/exams/${n.id}/edit`),color:"primary",disabled:!s?.permissions?.includes("exam.update"),children:(0,t.jsx)(pn.A,{})}),(0,t.jsx)(J.A,{size:"small",onClick:()=>(e=>{T(e),O(!0)})(n),color:"error",disabled:!s?.permissions?.includes("exam.delete"),children:(0,t.jsx)(xn.A,{})})]})})]},n.id))})]})}),(0,t.jsx)(vn.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:n.length,rowsPerPage:x,page:u,onPageChange:(e,s)=>p(s),onRowsPerPageChange:e=>{h(parseInt(e.target.value,10)),p(0)}})]})]}),(0,t.jsxs)($n,{value:b,index:1,children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Scheduled Exams"}),(0,t.jsx)(Je.A,{severity:"info",sx:{mb:2},children:"Exams that are scheduled but not yet started."})]}),(0,t.jsxs)($n,{value:b,index:2,children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Ongoing Exams"}),(0,t.jsx)(Je.A,{severity:"warning",sx:{mb:2},children:"Exams currently in progress."})]}),(0,t.jsxs)($n,{value:b,index:3,children:[(0,t.jsx)(k.A,{variant:"h6",gutterBottom:!0,children:"Completed Exams"}),(0,t.jsx)(Je.A,{severity:"success",sx:{mb:2},children:"Exams that have been completed and results are available."})]}),(0,t.jsxs)(on.A,{open:R,onClose:()=>O(!1),children:[(0,t.jsx)(ln.A,{children:"Delete Exam"}),(0,t.jsx)(cn.A,{children:(0,t.jsxs)(k.A,{children:["Are you sure you want to delete the exam"," ",(0,t.jsx)("strong",{children:I?.name}),"? This action cannot be undone and will affect all associated results and data."]})}),(0,t.jsxs)(dn.A,{children:[(0,t.jsx)(ss.A,{onClick:()=>O(!1),children:"Cancel"}),(0,t.jsx)(ss.A,{onClick:async()=>{if(I)try{await ve.deleteExamSession(I.id),a(n.filter(e=>e.id!==I.id)),O(!1),T(null)}catch(e){m("Failed to delete exam"),console.error("Error deleting exam:",e)}},color:"error",variant:"contained",children:"Delete"})]})]})]})})},Bn=()=>{const e=(0,C.Zp)(),{id:s}=(0,C.g)(),{user:n}=Ie(),[a,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),[p,x]=(0,r.useState)([]),[h,A]=(0,r.useState)([]),{control:g,handleSubmit:j,reset:_,watch:S,setValue:y,formState:{errors:f,isDirty:v}}=(0,Cn.mN)({defaultValues:{name:"",code:"",description:"",course_id:"",type:"midterm",status:"draft",exam_date:null,start_time:null,end_time:null,duration:60,total_marks:100,passing_marks:40,instructions:"",venue:"",supervisor_id:"",is_online:!1,online_platform:"",online_link:"",allow_calculator:!1,allow_notes:!1,negative_marking:!1,negative_marks_per_question:0}}),P=S("is_online"),E=S("negative_marking");(0,r.useEffect)(()=>{b()},[]);const b=async()=>{try{i(!0);const[e,n]=await Promise.all([ye.getCourses(),Se.getFaculty()]);if(x(e.data),A(n.data),s&&"new"!==s){const e=(await ve.getExam(parseInt(s))).data;u(e),_({name:e.name,code:e.code,description:e.description,course_id:e.course_id,type:e.type,status:e.status,exam_date:e.exam_date?new Date(e.exam_date):null,start_time:e.start_time?new Date(`2000-01-01T${e.start_time}`):null,end_time:e.end_time?new Date(`2000-01-01T${e.end_time}`):null,duration:e.duration,total_marks:e.total_marks,passing_marks:e.passing_marks,instructions:e.instructions||"",venue:e.venue||"",supervisor_id:e.supervisor_id||"",is_online:e.is_online||!1,online_platform:e.online_platform||"",online_link:e.online_link||"",allow_calculator:e.allow_calculator||!1,allow_notes:e.allow_notes||!1,negative_marking:e.negative_marking||!1,negative_marks_per_question:e.negative_marks_per_question||0})}}catch(e){d("Failed to load initial data"),console.error("Error loading initial data:",e)}finally{i(!1)}},D=async n=>{try{l(!0),d(null);const t={...n,exam_date:n.exam_date?.toISOString().split("T")[0],start_time:n.start_time?.toTimeString().split(" ")[0].substring(0,5),end_time:n.end_time?.toTimeString().split(" ")[0].substring(0,5)};s&&"new"!==s?await ve.updateExam(parseInt(s),t):await ve.createExam(t),e("/exams")}catch(e){d(e.response?.data?.message||"Failed to save exam"),console.error("Error saving exam:",e)}finally{l(!1)}};return a?(0,t.jsx)(G.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:(0,t.jsx)(ms.A,{})}):(0,t.jsx)(Sn.$,{dateAdapter:yn.h,children:(0,t.jsxs)(G.A,{sx:{p:3},children:[(0,t.jsxs)(G.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,t.jsx)(k.A,{variant:"h4",component:"h1",children:"new"===s?"Schedule New Exam":"Edit Exam"}),(0,t.jsxs)(G.A,{sx:{display:"flex",gap:2},children:[(0,t.jsx)(ss.A,{variant:"outlined",startIcon:(0,t.jsx)(bn.A,{}),onClick:()=>e("/exams"),children:"Cancel"}),(0,t.jsx)(ss.A,{variant:"contained",startIcon:(0,t.jsx)(En.A,{}),onClick:j(D),disabled:o||!v,children:o?"Saving...":"Save Exam"})]})]}),c&&(0,t.jsx)(Je.A,{severity:"error",sx:{mb:3},children:c}),(0,t.jsx)("form",{onSubmit:j(D),children:(0,t.jsxs)(js.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ce.A,{}),title:"Basic Information"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"name",control:g,rules:{required:"Exam name is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Exam Name",error:!!f.name,helperText:f.name?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"code",control:g,rules:{required:"Exam code is required"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Exam Code",error:!!f.code,helperText:f.code?.message,placeholder:"e.g., MID-CS101-2024"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"description",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Description",multiline:!0,rows:3,error:!!f.description,helperText:f.description?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"course_id",control:g,rules:{required:"Course is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.course_id,children:[(0,t.jsx)(Ye.A,{children:"Course"}),(0,t.jsx)(Ze.A,{...e,label:"Course",children:p.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.code," - ",e.name]},e.id))})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"type",control:g,rules:{required:"Exam type is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.type,children:[(0,t.jsx)(Ye.A,{children:"Exam Type"}),(0,t.jsxs)(Ze.A,{...e,label:"Exam Type",children:[(0,t.jsx)(q.A,{value:"midterm",children:"Midterm"}),(0,t.jsx)(q.A,{value:"final",children:"Final"}),(0,t.jsx)(q.A,{value:"quiz",children:"Quiz"}),(0,t.jsx)(q.A,{value:"assignment",children:"Assignment"}),(0,t.jsx)(q.A,{value:"practical",children:"Practical"}),(0,t.jsx)(q.A,{value:"viva",children:"Viva"})]})]})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"status",control:g,rules:{required:"Status is required"},render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.status,children:[(0,t.jsx)(Ye.A,{children:"Status"}),(0,t.jsxs)(Ze.A,{...e,label:"Status",children:[(0,t.jsx)(q.A,{value:"draft",children:"Draft"}),(0,t.jsx)(q.A,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(q.A,{value:"ongoing",children:"Ongoing"}),(0,t.jsx)(q.A,{value:"completed",children:"Completed"}),(0,t.jsx)(q.A,{value:"cancelled",children:"Cancelled"})]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(de.A,{}),title:"Schedule & Timing"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"exam_date",control:g,rules:{required:"Exam date is required"},render:({field:e})=>(0,t.jsx)(_n.l,{label:"Exam Date",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!f.exam_date,helperText:f.exam_date?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"start_time",control:g,rules:{required:"Start time is required"},render:({field:e})=>(0,t.jsx)(Gn.A,{label:"Start Time",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!f.start_time,helperText:f.start_time?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:4,children:(0,t.jsx)(Cn.xI,{name:"end_time",control:g,rules:{required:"End time is required"},render:({field:e})=>(0,t.jsx)(Gn.A,{label:"End Time",value:e.value,onChange:e.onChange,slotProps:{textField:{fullWidth:!0,error:!!f.end_time,helperText:f.end_time?.message}}})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"duration",control:g,rules:{required:"Duration is required",min:{value:1,message:"Minimum 1 minute"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Duration (minutes)",type:"number",error:!!f.duration,helperText:f.duration?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"supervisor_id",control:g,render:({field:e})=>(0,t.jsxs)(Xe.A,{fullWidth:!0,error:!!f.supervisor_id,children:[(0,t.jsx)(Ye.A,{children:"Supervisor"}),(0,t.jsxs)(Ze.A,{...e,label:"Supervisor",children:[(0,t.jsx)(q.A,{value:"",children:"No Supervisor Assigned"}),h.map(e=>(0,t.jsxs)(q.A,{value:e.id,children:[e.first_name," ",e.last_name]},e.id))]})]})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(Ws.A,{}),title:"Grading & Marks"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"total_marks",control:g,rules:{required:"Total marks is required",min:{value:1,message:"Minimum 1 mark"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Total Marks",type:"number",error:!!f.total_marks,helperText:f.total_marks?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"passing_marks",control:g,rules:{required:"Passing marks is required",min:{value:0,message:"Cannot be negative"}},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Passing Marks",type:"number",error:!!f.passing_marks,helperText:f.passing_marks?.message})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"negative_marking",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Negative Marking"})})}),E&&(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"negative_marks_per_question",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Negative Marks per Wrong Answer",type:"number",error:!!f.negative_marks_per_question,helperText:f.negative_marks_per_question?.message})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{avatar:(0,t.jsx)(ue.A,{}),title:"Venue & Platform"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"is_online",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Online Exam"})})}),P?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"online_platform",control:g,rules:{required:"Online platform is required for online exams"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Online Platform",error:!!f.online_platform,helperText:f.online_platform?.message,placeholder:"Zoom, Google Meet, Teams, etc."})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"online_link",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Online Link",error:!!f.online_link,helperText:f.online_link?.message,placeholder:"Meeting/exam link"})})})]}):(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"venue",control:g,rules:{required:"Venue is required for offline exams"},render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Venue",error:!!f.venue,helperText:f.venue?.message,placeholder:"Room number, building, etc."})})})]})})]})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsxs)(Be.A,{children:[(0,t.jsx)(Es.A,{title:"Rules & Instructions"}),(0,t.jsx)(Ke.A,{children:(0,t.jsxs)(js.Ay,{container:!0,spacing:2,children:[(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"allow_calculator",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Allow Calculator"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,md:6,children:(0,t.jsx)(Cn.xI,{name:"allow_notes",control:g,render:({field:e})=>(0,t.jsx)(gn.A,{control:(0,t.jsx)(jn.A,{...e,checked:e.value}),label:"Allow Notes/Books"})})}),(0,t.jsx)(js.Ay,{item:!0,xs:12,children:(0,t.jsx)(Cn.xI,{name:"instructions",control:g,render:({field:e})=>(0,t.jsx)(es.A,{...e,fullWidth:!0,label:"Exam Instructions",multiline:!0,rows:5,error:!!f.instructions,helperText:f.instructions?.message,placeholder:"Detailed instructions for students..."})})})]})})]})})]})})]})})},Kn=({children:e})=>{const{isAuthenticated:s,isLoading:n}=M();return n?(0,t.jsx)("div",{children:"Loading..."}):s?(0,t.jsx)(qe,{children:e}):(0,t.jsx)(C.C5,{to:"/login",replace:!0})},zn=()=>(0,t.jsxs)(C.BV,{children:[(0,t.jsx)(C.qh,{path:"/login",element:(0,t.jsx)(is,{})}),(0,t.jsx)(C.qh,{path:"/mfa",element:(0,t.jsx)(gs,{})}),(0,t.jsx)(C.qh,{path:"/",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Ys,{})})}),(0,t.jsx)(C.qh,{path:"/dashboard",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Ys,{})})}),(0,t.jsx)(C.qh,{path:"/students",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(An,{})})}),(0,t.jsx)(C.qh,{path:"/students/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(fn,{})})}),(0,t.jsx)(C.qh,{path:"/students/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(fn,{})})}),(0,t.jsx)(C.qh,{path:"/students/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(fn,{})})}),(0,t.jsx)(C.qh,{path:"/faculty",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Pn,{})})}),(0,t.jsx)(C.qh,{path:"/faculty/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(In,{})})}),(0,t.jsx)(C.qh,{path:"/faculty/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(In,{})})}),(0,t.jsx)(C.qh,{path:"/faculty/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(In,{})})}),(0,t.jsx)(C.qh,{path:"/courses",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Tn,{})})}),(0,t.jsx)(C.qh,{path:"/courses/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(wn,{})})}),(0,t.jsx)(C.qh,{path:"/courses/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(wn,{})})}),(0,t.jsx)(C.qh,{path:"/courses/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(wn,{})})}),(0,t.jsx)(C.qh,{path:"/departments",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Mn,{})})}),(0,t.jsx)(C.qh,{path:"/departments/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Fn,{})})}),(0,t.jsx)(C.qh,{path:"/departments/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Fn,{})})}),(0,t.jsx)(C.qh,{path:"/departments/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Fn,{})})}),(0,t.jsx)(C.qh,{path:"/attendance",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Ln,{})})}),(0,t.jsx)(C.qh,{path:"/attendance/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Hn,{})})}),(0,t.jsx)(C.qh,{path:"/attendance/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Hn,{})})}),(0,t.jsx)(C.qh,{path:"/attendance/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Hn,{})})}),(0,t.jsx)(C.qh,{path:"/exams",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(qn,{})})}),(0,t.jsx)(C.qh,{path:"/exams/new",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Bn,{})})}),(0,t.jsx)(C.qh,{path:"/exams/:id",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Bn,{})})}),(0,t.jsx)(C.qh,{path:"/exams/:id/edit",element:(0,t.jsx)(Kn,{children:(0,t.jsx)(Bn,{})})})]});var Jn=n(5072),Xn=n.n(Jn),Yn=n(7825),Zn=n.n(Yn),Qn=n(7659),et=n.n(Qn),st=n(5056),nt=n.n(st),tt=n(540),rt=n.n(tt),at=n(1113),it=n.n(at),ot=n(6523),lt={};lt.styleTagTransform=it(),lt.setAttributes=nt(),lt.insert=et().bind(null,"head"),lt.domAPI=Zn(),lt.insertStyleElement=rt(),Xn()(ot.A,lt),ot.A&&ot.A.locals&&ot.A.locals,y.useSupabaseAuth&&y.url&&y.anonKey?(()=>{const e=[];y.url||e.push("REACT_APP_SUPABASE_URL is required"),y.anonKey||e.push("REACT_APP_SUPABASE_ANON_KEY is required"),e.length>0?console.error(" Supabase configuration errors:",e):console.log(" Supabase configuration is valid")})():console.warn(" Supabase is not configured. Please set REACT_APP_USE_SUPABASE_AUTH=true and add your Supabase credentials."),a.createRoot(document.getElementById("root")).render((0,t.jsx)(r.StrictMode,{children:(0,t.jsx)(i.Kd,{children:(0,t.jsxs)(o.A,{theme:S,children:[(0,t.jsx)(l.Ay,{}),(0,t.jsx)(()=>(0,t.jsx)(W,{children:(0,t.jsx)(zn,{})}),{})]})})}))}},e=>{e.O(0,[808,253,506,111,277,363,604,508,207,924,70,753,582,692,179,172,270,22,453,881,465,412,43,255,560],()=>e(e.s=6659)),e.O()}]);